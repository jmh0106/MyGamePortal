(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var vd={exports:{}},fl={};var w_;function hS(){if(w_)return fl;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var I_;function fS(){return I_||(I_=1,vd.exports=hS()),vd.exports}var nt=fS(),Ed={exports:{}},vt={};var C_;function dS(){if(C_)return vt;C_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ot(O,K,tt){this.props=O,this.context=K,this.refs=Z,this.updater=tt||$}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=ot.prototype;function ht(O,K,tt){this.props=O,this.context=K,this.refs=Z,this.updater=tt||$}var qt=ht.prototype=new gt;qt.constructor=ht,et(qt,ot.prototype),qt.isPureReactComponent=!0;var Wt=Array.isArray;function Lt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,K,tt){var st=tt.ref;return{$$typeof:s,type:O,key:K,ref:st!==void 0?st:null,props:tt}}function M(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return K[tt]})}var R=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):K.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Lt,Lt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,tt,st,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case s:case t:Mt=!0;break;case A:return Mt=O._init,H(Mt(O._payload),K,tt,st,yt)}}if(Mt)return yt=yt(O),Mt=st===""?"."+ie(O,0):st,Wt(yt)?(tt="",Mt!=null&&(tt=Mt.replace(R,"$&/")+"/"),H(yt,K,tt,"",function(Wr){return Wr})):yt!=null&&(N(yt)&&(yt=M(yt,tt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Mt)),K.push(yt)),1;Mt=0;var De=st===""?".":st+":";if(Wt(O))for(var re=0;re<O.length;re++)st=O[re],St=De+ie(st,re),Mt+=H(st,K,tt,St,yt);else if(re=G(O),typeof re=="function")for(O=re.call(O),re=0;!(st=O.next()).done;)st=st.value,St=De+ie(st,re++),Mt+=H(st,K,tt,St,yt);else if(St==="object"){if(typeof O.then=="function")return H(Ce(O),K,tt,st,yt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function W(O,K,tt){if(O==null)return O;var st=[],yt=0;return H(O,st,"","",function(St){return K.call(tt,St,yt++)}),st}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:W,forEach:function(O,K,tt){W(O,function(){K.apply(this,arguments)},tt)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Ht,vt.Component=ot,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ht,vt.StrictMode=a,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,K,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=et({},O.props),yt=O.key;if(K!=null)for(St in K.key!==void 0&&(yt=""+K.key),K)!b.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=tt;else if(1<St){for(var Mt=Array(St),De=0;De<St;De++)Mt[De]=arguments[De+2];st.children=Mt}return I(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,K,tt){var st,yt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)b.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=K[st]);var Mt=arguments.length-2;if(Mt===1)yt.children=tt;else if(1<Mt){for(var De=Array(Mt),re=0;re<Mt;re++)De[re]=arguments[re+2];yt.children=De}if(O&&O.defaultProps)for(st in Mt=O.defaultProps,Mt)yt[st]===void 0&&(yt[st]=Mt[st]);return I(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=N,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},vt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},vt.startTransition=function(O){var K=C.T,tt={};C.T=tt;try{var st=O(),yt=C.S;yt!==null&&yt(tt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Lt,xt)}catch(St){xt(St)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),C.T=K}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(O){return C.H.use(O)},vt.useActionState=function(O,K,tt){return C.H.useActionState(O,K,tt)},vt.useCallback=function(O,K){return C.H.useCallback(O,K)},vt.useContext=function(O){return C.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},vt.useEffect=function(O,K){return C.H.useEffect(O,K)},vt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(O,K,tt){return C.H.useImperativeHandle(O,K,tt)},vt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},vt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},vt.useMemo=function(O,K){return C.H.useMemo(O,K)},vt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},vt.useReducer=function(O,K,tt){return C.H.useReducer(O,K,tt)},vt.useRef=function(O){return C.H.useRef(O)},vt.useState=function(O){return C.H.useState(O)},vt.useSyncExternalStore=function(O,K,tt){return C.H.useSyncExternalStore(O,K,tt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var D_;function lm(){return D_||(D_=1,Ed.exports=dS()),Ed.exports}var un=lm(),Td={exports:{}},dl={},Ad={exports:{}},Sd={};var N_;function mS(){return N_||(N_=1,(function(s){function t(H,W){var ft=H.length;H.push(W);t:for(;0<ft;){var xt=ft-1>>>1,Ht=H[xt];if(0<l(Ht,W))H[xt]=W,H[ft]=Ht,ft=xt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],ft=H.pop();if(ft!==W){H[0]=ft;t:for(var xt=0,Ht=H.length,O=Ht>>>1;xt<O;){var K=2*(xt+1)-1,tt=H[K],st=K+1,yt=H[st];if(0>l(tt,ft))st<Ht&&0>l(yt,tt)?(H[xt]=yt,H[st]=ft,xt=st):(H[xt]=tt,H[K]=ft,xt=K);else if(st<Ht&&0>l(yt,ft))H[xt]=yt,H[st]=ft,xt=st;else break t}}return W}function l(H,W){var ft=H.sortIndex-W.sortIndex;return ft!==0?ft:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,S=null,V=3,G=!1,$=!1,et=!1,Z=!1,ot=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=H)a(_),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(_)}}function Wt(H){if(et=!1,qt(H),!$)if(i(v)!==null)$=!0,Lt||(Lt=!0,L());else{var W=i(_);W!==null&&Ce(Wt,W.startTime-H)}}var Lt=!1,C=-1,b=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<b)}function N(){if(Z=!1,Lt){var H=s.unstable_now();I=H;var W=!0;try{t:{$=!1,et&&(et=!1,gt(C),C=-1),G=!0;var ft=V;try{e:{for(qt(H),S=i(v);S!==null&&!(S.expirationTime>H&&M());){var xt=S.callback;if(typeof xt=="function"){S.callback=null,V=S.priorityLevel;var Ht=xt(S.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,qt(H),W=!0;break e}S===i(v)&&a(v),qt(H)}else a(v);S=i(v)}if(S!==null)W=!0;else{var O=i(_);O!==null&&Ce(Wt,O.startTime-H),W=!1}}break t}finally{S=null,V=ft,G=!1}W=void 0}}finally{W?L():Lt=!1}}}var L;if(typeof ht=="function")L=function(){ht(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,L=function(){ie.postMessage(null)}}else L=function(){ot(N,0)};function Ce(H,W){C=ot(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var ft=V;V=W;try{return H()}finally{V=ft}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=V;V=H;try{return W()}finally{V=ft}},s.unstable_scheduleCallback=function(H,W,ft){var xt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,H={id:A++,callback:W,priorityLevel:H,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>xt?(H.sortIndex=ft,t(_,H),i(v)===null&&H===i(_)&&(et?(gt(C),C=-1):et=!0,Ce(Wt,ft-xt))):(H.sortIndex=Ht,t(v,H),$||G||($=!0,Lt||(Lt=!0,L()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var W=V;return function(){var ft=V;V=W;try{return H.apply(this,arguments)}finally{V=ft}}}})(Sd)),Sd}var O_;function gS(){return O_||(O_=1,Ad.exports=mS()),Ad.exports}var bd={exports:{}},Qe={};var V_;function pS(){if(V_)return Qe;V_=1;var s=lm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:V,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var M_;function yS(){if(M_)return bd.exports;M_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bd.exports=pS(),bd.exports}var U_;function _S(){if(U_)return dl;U_=1;var s=gS(),t=lm(),i=yS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ot:return"Profiler";case Z:return"StrictMode";case Wt:return"Suspense";case Lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ht:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],Ht=-1;function O(e){return{current:e}}function K(e){0>Ht||(e.current=xt[Ht],xt[Ht]=null,Ht--)}function tt(e,n){Ht++,xt[Ht]=e.current,e.current=n}var st=O(null),yt=O(null),St=O(null),Mt=O(null);function De(e,n){switch(tt(St,n),tt(yt,e),tt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xy(n),e=Zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),tt(st,e)}function re(){K(st),K(yt),K(St)}function Wr(e){e.memoizedState!==null&&tt(Mt,e);var n=st.current,r=Zy(n,e.type);n!==r&&(tt(yt,e),tt(st,r))}function Qs(e){yt.current===e&&(K(st),K(yt)),Mt.current===e&&(K(Mt),ll._currentValue=ft)}var Ys,Ks;function $n(e){if(Ys===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ys=n&&n[1]||"",Ks=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ys+e+Ks}var oo=!1;function ts(e,n){if(!e||oo)return"";oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),k=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===k.length)for(o=w.length-1,h=k.length-1;1<=o&&0<=h&&w[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==k[h]){var q=`
`+w[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{oo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$n(r):""}function lo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return $n("Activity");default:return""}}function uo(e){try{var n="",r=null;do n+=lo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,ir=s.unstable_cancelCallback,Eh=s.unstable_shouldYield,ql=s.unstable_requestPaint,Je=s.unstable_now,es=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,ho=s.unstable_UserBlockingPriority,rr=s.unstable_NormalPriority,Th=s.unstable_LowPriority,Hl=s.unstable_IdlePriority,Gl=s.log,Fl=s.unstable_setDisableYieldValue,Ln=null,Pe=null;function En(e){if(typeof Gl=="function"&&Fl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var ce=Math.clz32?Math.clz32:Yl,Ql=Math.log,Xs=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Ql(e)/Xs|0)|0}var Wn=256,ns=262144,pe=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function is(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(r=g&~r;0<r;){var q=31-ce(r),Y=1<<q;E[q]=0,w[q]=-1;var z=k[q];if(z!==null)for(k[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}r&=~Y}o!==0&&rs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function fo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function mo(e,n){var r=n&-n;return r=(r&42)!==0?1:ss(r),(r&(e.suspendedLanes|n))!==0?0:r}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function Pn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,ii="__reactContainer$"+kn,Zs="__reactEvents$"+kn,bh="__reactListeners$"+kn,Zl="__reactHandles$"+kn,Jl="__reactResources$"+kn,ri="__reactMarker$"+kn;function Js(e){delete e[ye],delete e[Me],delete e[Zs],delete e[bh],delete e[Zl]}function si(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=i_(e);e!==null;){if(r=e[ye])return r;e=i_(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[ye]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ri]=!0}var go=new Set,po={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(po[e]=n,e=0;e<n.length;e++)go.add(n[e])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function $l(e){return ge.call(vo,e)?!0:ge.call(_o,e)?!1:yo.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function $s(e,n,r){if($l(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=sr(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function as(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=sr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var os=/[\n"\\]/g;function en(e){return e.replace(os,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ws(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,Ue(n)):r!=null?To(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function Wl(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function To(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ar(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function or(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||eu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function So(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ao(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return lr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var bo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,ci=null;function ls(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ws(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));Ws(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&as(o)}break t;case"textarea":tu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ar(e,!!r.multiple,n,!1)}}}var na=!1;function cr(e,n,r){if(na)return e(n,r);na=!0;try{var o=e(n);return o}finally{if(na=!1,(ur!==null||ci!==null)&&(Xu(),ur&&(n=ur,e=ci,ci=ur=null,ls(n),e)))for(n=0;n<e.length;n++)ls(e[n])}}function Bn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){us=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{us=!1}var hi=null,Ro=null,cs=null;function wo(){if(cs)return cs;var e,n=Ro,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return cs=h.slice(e,1<o?1-o:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function jn(){return!1}function ke(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:jn,this.isPropagationStopped=jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ke(Ni),hr=S({},Ni,{view:0,detail:0}),Io=ke(hr),fr,ia,di,ra=S({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(fr=e.screenX-di.screenX,ia=e.screenY-di.screenY):ia=fr=0,di=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Co=ke(ra),fs=S({},ra,{dataTransfer:0}),iu=ke(fs),ru=S({},hr,{relatedTarget:0}),ds=ke(ru),Do=S({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),su=ke(Do),sa=S({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=ke(sa),ou=S({},Ni,{data:0}),mi=ke(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function dr(){return hu}var $e=S({},hr,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=ke($e),du=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ke(du),u=S({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),m=ke(u),y=S({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(y),x=S({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(x),J=S({},Ni,{newState:0,oldState:0}),Tt=ke(J),he=[9,13,27,32],zt=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var bn=Sn&&"TextEvent"in window&&!se,gi=Sn&&(!zt||se&&8<se&&11>=se),qn=" ",Hn=!1;function ms(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function L0(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function x0(e,n){if(oa)return e==="compositionend"||!zt&&ms(e,n)?(e=wo(),cs=Ro=hi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P0[e.type]:n==="textarea"}function og(e,n,r,o){ur?ci?ci.push(o):ci=[o]:ur=o,n=nc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var No=null,Oo=null;function k0(e){Hy(e,0)}function mu(e){var n=hn(e);if(as(n))return e}function lg(e,n){if(e==="change")return n}var ug=!1;if(Sn){var Rh;if(Sn){var wh="oninput"in document;if(!wh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),wh=typeof cg.oninput=="function"}Rh=wh}else Rh=!1;ug=Rh&&(!document.documentMode||9<document.documentMode)}function hg(){No&&(No.detachEvent("onpropertychange",fg),Oo=No=null)}function fg(e){if(e.propertyName==="value"&&mu(Oo)){var n=[];og(n,Oo,e,An(e)),cr(k0,n)}}function z0(e,n,r){e==="focusin"?(hg(),No=n,Oo=r,No.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function B0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(Oo)}function j0(e,n){if(e==="click")return mu(n)}function q0(e,n){if(e==="input"||e==="change")return mu(n)}function H0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:H0;function Vo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,n){var r=dg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dg(r)}}function gg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G0=Sn&&"documentMode"in document&&11>=document.documentMode,la=null,Ch=null,Mo=null,Dh=!1;function yg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dh||la==null||la!==ui(o)||(o=la,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=nc(Ch,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=la)))}function gs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ua={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Nh={},_g={};Sn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ps(e){if(Nh[e])return Nh[e];if(!ua[e])return e;var n=ua[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in _g)return Nh[e]=n[r];return e}var vg=ps("animationend"),Eg=ps("animationiteration"),Tg=ps("animationstart"),F0=ps("transitionrun"),Q0=ps("transitionstart"),Y0=ps("transitioncancel"),Ag=ps("transitionend"),Sg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Gn(e,n){Sg.set(e,n),oi(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ca=0,Vh=0;function pu(){for(var e=ca,n=Vh=ca=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&bg(r,h,f)}}function yu(e,n,r,o){Rn[ca++]=e,Rn[ca++]=n,Rn[ca++]=r,Rn[ca++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,r,o){return yu(e,n,r,o),_u(e)}function ys(e,n){return yu(e,null,null,n),_u(e)}function bg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function _u(e){if(50<el)throw el=0,Hf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function K0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,r,o){return new K0(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=WA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,r,n,h),e.elementType=I,e.lanes=f,e;case et:return _s(r.children,h,f,n);case Z:g=8,h|=24;break;case ot:return e=mn(12,r,n,h|2),e.elementType=ot,e.lanes=f,e;case Wt:return e=mn(13,r,n,h),e.elementType=Wt,e.lanes=f,e;case Lt:return e=mn(19,r,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case gt:g=9;break t;case qt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function _s(e,n,r,o){return e=mn(7,e,o,n),e.lanes=r,e}function Lh(e,n,r){return e=mn(6,e,null,n),e.lanes=r,e}function wg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function xh(e,n,r){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ig=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=Ig.get(e);return r!==void 0?r:(n={value:e,source:n,stack:uo(n)},Ig.set(e,n),n)}return{value:e,source:n,stack:uo(n)}}var fa=[],da=0,Eu=null,Uo=0,In=[],Cn=0,mr=null,pi=1,yi="";function Mi(e,n){fa[da++]=Uo,fa[da++]=Eu,Eu=e,Uo=n}function Cg(e,n,r){In[Cn++]=pi,In[Cn++]=yi,In[Cn++]=mr,mr=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),r+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|r<<h|o,yi=f+e}else pi=1<<f|r<<h|o,yi=e}function Ph(e){e.return!==null&&(Mi(e,1),Cg(e,1,0))}function kh(e){for(;e===Eu;)Eu=fa[--da],fa[da]=null,Uo=fa[--da],fa[da]=null;for(;e===mr;)mr=In[--Cn],In[Cn]=null,yi=In[--Cn],In[Cn]=null,pi=In[--Cn],In[Cn]=null}function Dg(e,n){In[Cn++]=pi,In[Cn++]=yi,In[Cn++]=mr,pi=n.id,yi=n.overflow,mr=e}var ze=null,te=null,Vt=!1,gr=null,Dn=!1,zh=Error(a(519));function pr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(wn(n,e)),zh}function Ng(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<il.length;r++)wt(il[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Wl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),or(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Yy(n.textContent,r)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||pr(e,!0)}function Og(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function ma(e){if(e!==ze)return!1;if(!Vt)return Og(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&te&&pr(e),Og(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=n_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=n_(e)}else n===27?(n=te,Nr(e.type)?(e=ud,ud=null,te=e):te=n):te=ze?On(e.stateNode.nextSibling):null;return!0}function vs(){te=ze=null,Vt=!1}function Bh(){var e=gr;return e!==null&&(on===null?on=e:on.push.apply(on,e),gr=null),e}function Lo(e){gr===null?gr=[e]:gr.push(e)}var jh=O(null),Es=null,Ui=null;function yr(e,n,r){tt(jh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=jh.current,K(jh)}function qh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Hh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),qh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),qh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&Hh(n,e,r,o),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Vg(Es,e)}function Au(e,n){return Es===null&&Ts(e),Vg(e,n)}function Vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var X0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Z0=s.unstable_scheduleCallback,J0=s.unstable_NormalPriority,Ee={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new X0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&Z0(J0,function(){e.controller.abort()})}var Po=null,Fh=0,pa=0,ya=null;function $0(e,n){if(Po===null){var r=Po=[];Fh=0,pa=Xf(),ya={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Fh++,n.then(Mg,Mg),n}function Mg(){if(--Fh===0&&Po!==null){ya!==null&&(ya.status="fulfilled");var e=Po;Po=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function W0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ug=H.S;H.S=function(e,n){yy=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$0(e,n),Ug!==null&&Ug(e,n)};var As=O(null);function Qh(){var e=As.current;return e!==null?e:Jt.pooledCache}function Su(e,n){n===null?tt(As,As.current):tt(As,n.pool)}function Lg(){var e=Qh();return e===null?null:{parent:Ee._currentValue,pool:e}}var _a=Error(a(460)),Yh=Error(a(474)),bu=Error(a(542)),Ru={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw bs=n,_a}}function Ss(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(bs=r,_a):r}}var bs=null;function kg(){if(bs===null)throw Error(a(459));var e=bs;return bs=null,e}function zg(e){if(e===_a||e===bu)throw Error(a(483))}var va=null,ko=0;function wu(e){var n=ko;return ko+=1,va===null&&(va=[]),Pg(va,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function r(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Vi(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,F){return D===null||D.tag!==6?(D=Lh(P,U.mode,F),D.return=U,D):(D=h(D,P),D.return=U,D)}function w(U,D,P,F){var ut=P.type;return ut===et?q(U,D,P.props.children,F,P.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ss(ut)===D.type)?(D=h(D,P.props),zo(D,P),D.return=U,D):(D=vu(P.type,P.key,P.props,null,U.mode,F),zo(D,P),D.return=U,D)}function k(U,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=xh(P,U.mode,F),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function q(U,D,P,F,ut){return D===null||D.tag!==7?(D=_s(P,U.mode,F,ut),D.return=U,D):(D=h(D,P),D.return=U,D)}function Y(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Lh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=vu(D.type,D.key,D.props,null,U.mode,P),zo(P,D),P.return=U,P;case $:return D=xh(D,U.mode,P),D.return=U,D;case b:return D=Ss(D),Y(U,D,P)}if(Ce(D)||L(D))return D=_s(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Y(U,wu(D),P);if(D.$$typeof===ht)return Y(U,Au(U,D),P);Iu(U,D)}return null}function z(U,D,P,F){var ut=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(U,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?w(U,D,P,F):null;case $:return P.key===ut?k(U,D,P,F):null;case b:return P=Ss(P),z(U,D,P,F)}if(Ce(P)||L(P))return ut!==null?null:q(U,D,P,F,null);if(typeof P.then=="function")return z(U,D,wu(P),F);if(P.$$typeof===ht)return z(U,D,Au(U,P),F);Iu(U,P)}return null}function j(U,D,P,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(D,U,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?P:F.key)||null,w(D,U,F,ut);case $:return U=U.get(F.key===null?P:F.key)||null,k(D,U,F,ut);case b:return F=Ss(F),j(U,D,P,F,ut)}if(Ce(F)||L(F))return U=U.get(P)||null,q(D,U,F,ut,null);if(typeof F.then=="function")return j(U,D,P,wu(F),ut);if(F.$$typeof===ht)return j(U,D,P,Au(D,F),ut);Iu(D,F)}return null}function at(U,D,P,F){for(var ut=null,Pt=null,lt=D,bt=D=0,Ct=null;lt!==null&&bt<P.length;bt++){lt.index>bt?(Ct=lt,lt=null):Ct=lt.sibling;var kt=z(U,lt,P[bt],F);if(kt===null){lt===null&&(lt=Ct);break}e&&lt&&kt.alternate===null&&n(U,lt),D=f(kt,D,bt),Pt===null?ut=kt:Pt.sibling=kt,Pt=kt,lt=Ct}if(bt===P.length)return r(U,lt),Vt&&Mi(U,bt),ut;if(lt===null){for(;bt<P.length;bt++)lt=Y(U,P[bt],F),lt!==null&&(D=f(lt,D,bt),Pt===null?ut=lt:Pt.sibling=lt,Pt=lt);return Vt&&Mi(U,bt),ut}for(lt=o(lt);bt<P.length;bt++)Ct=j(lt,U,bt,P[bt],F),Ct!==null&&(e&&Ct.alternate!==null&&lt.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Pt===null?ut=Ct:Pt.sibling=Ct,Pt=Ct);return e&&lt.forEach(function(Lr){return n(U,Lr)}),Vt&&Mi(U,bt),ut}function dt(U,D,P,F){if(P==null)throw Error(a(151));for(var ut=null,Pt=null,lt=D,bt=D=0,Ct=null,kt=P.next();lt!==null&&!kt.done;bt++,kt=P.next()){lt.index>bt?(Ct=lt,lt=null):Ct=lt.sibling;var Lr=z(U,lt,kt.value,F);if(Lr===null){lt===null&&(lt=Ct);break}e&&lt&&Lr.alternate===null&&n(U,lt),D=f(Lr,D,bt),Pt===null?ut=Lr:Pt.sibling=Lr,Pt=Lr,lt=Ct}if(kt.done)return r(U,lt),Vt&&Mi(U,bt),ut;if(lt===null){for(;!kt.done;bt++,kt=P.next())kt=Y(U,kt.value,F),kt!==null&&(D=f(kt,D,bt),Pt===null?ut=kt:Pt.sibling=kt,Pt=kt);return Vt&&Mi(U,bt),ut}for(lt=o(lt);!kt.done;bt++,kt=P.next())kt=j(lt,U,bt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&lt.delete(kt.key===null?bt:kt.key),D=f(kt,D,bt),Pt===null?ut=kt:Pt.sibling=kt,Pt=kt);return e&&lt.forEach(function(cS){return n(U,cS)}),Vt&&Mi(U,bt),ut}function Zt(U,D,P,F){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;D!==null;){if(D.key===ut){if(ut=P.type,ut===et){if(D.tag===7){r(U,D.sibling),F=h(D,P.props.children),F.return=U,U=F;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ss(ut)===D.type){r(U,D.sibling),F=h(D,P.props),zo(F,P),F.return=U,U=F;break t}r(U,D);break}else n(U,D);D=D.sibling}P.type===et?(F=_s(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=vu(P.type,P.key,P.props,null,U.mode,F),zo(F,P),F.return=U,U=F)}return g(U);case $:t:{for(ut=P.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(U,D.sibling),F=h(D,P.children||[]),F.return=U,U=F;break t}else{r(U,D);break}else n(U,D);D=D.sibling}F=xh(P,U.mode,F),F.return=U,U=F}return g(U);case b:return P=Ss(P),Zt(U,D,P,F)}if(Ce(P))return at(U,D,P,F);if(L(P)){if(ut=L(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),dt(U,D,P,F)}if(typeof P.then=="function")return Zt(U,D,wu(P),F);if(P.$$typeof===ht)return Zt(U,D,Au(U,P),F);Iu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(U,D.sibling),F=h(D,P),F.return=U,U=F):(r(U,D),F=Lh(P,U.mode,F),F.return=U,U=F),g(U)):r(U,D)}return function(U,D,P,F){try{ko=0;var ut=Zt(U,D,P,F);return va=null,ut}catch(lt){if(lt===_a||lt===bu)throw lt;var Pt=mn(29,lt,null,U.mode);return Pt.lanes=F,Pt.return=U,Pt}finally{}}}var Rs=Bg(!0),jg=Bg(!1),_r=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=_u(e),bg(e,null,r),n}return yu(e,o,n,r),_u(e)}function Bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,fo(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Jh=!1;function jo(){if(Jh){var e=ya;if(e!==null)throw e}}function qo(e,n,r,o){Jh=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=w))}if(f!==null){var Y=h.baseState;g=0,q=k=w=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(It&z)===z:(o&z)===z){z!==0&&z===pa&&(Jh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var Zt=r;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call(Zt,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(Zt,Y,z):at,z==null)break t;Y=S({},Y,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=j,w=Y):q=q.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(w=Y),h.baseState=w,h.firstBaseUpdate=k,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Rr|=g,e.lanes=g,e.memoizedState=Y}}function qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Hg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)qg(r[e],n)}var Ea=O(null),Cu=O(0);function Gg(e,n){e=Gi,tt(Cu,e),tt(Ea,n),Gi=e|n.baseLanes}function $h(){tt(Cu,Gi),tt(Ea,Ea.current)}function Wh(){Gi=Cu.current,K(Ea),K(Cu)}var gn=O(null),Nn=null;function Tr(e){var n=e.alternate;tt(fe,fe.current&1),tt(gn,e),Nn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Nn=e)}function tf(e){tt(fe,fe.current),tt(gn,e),Nn===null&&(Nn=e)}function Fg(e){e.tag===22?(tt(fe,fe.current),tt(gn,e),Nn===null&&(Nn=e)):Ar()}function Ar(){tt(fe,fe.current),tt(gn,gn.current)}function pn(e){K(gn),Nn===e&&(Nn=null),K(fe)}var fe=O(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||od(r)||ld(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,At=null,Kt=null,Te=null,Nu=!1,Ta=!1,ws=!1,Ou=0,Ho=0,Aa=null,tA=0;function le(){throw Error(a(321))}function ef(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!dn(e[r],n[r]))return!1;return!0}function nf(e,n,r,o,h,f){return xi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Cp:_f,ws=!1,f=r(o,h),ws=!1,Ta&&(f=Yg(n,r,o,h)),Qg(e),f}function Qg(e){H.H=Qo;var n=Kt!==null&&Kt.next!==null;if(xi=0,Te=Kt=At=null,Nu=!1,Ho=0,Aa=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Tu(e)&&(Ae=!0))}function Yg(e,n,r,o){At=e;var h=0;do{if(Ta&&(Aa=null),Ho=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Te=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Dp,f=n(r,o)}while(Ta);return f}function eA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(At.flags|=1024),n}function rf(){var e=Ou!==0;return Ou=0,e}function sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function af(e){if(Nu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Nu=!1}xi=0,Te=Kt=At=null,Ta=!1,Ho=Ou=0,Aa=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Kt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Kt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?At.memoizedState=Te=e:Te=Te.next=e}return Te}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Ho;return Ho+=1,Aa===null&&(Aa=[]),e=Pg(Aa,e,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Cp:_f),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===ht)return Be(e)}throw Error(a(438,String(e)))}function of(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=de();return lf(n,Kt,e)}function lf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,w=null,k=n,q=!1;do{var Y=k.lane&-536870913;if(Y!==k.lane?(It&Y)===Y:(xi&Y)===Y){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Y===pa&&(q=!0);else if((xi&z)===z){k=k.next,z===pa&&(q=!0);continue}else Y={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=Y,g=f):w=w.next=Y,At.lanes|=z,Rr|=z;Y=k.action,ws&&r(f,Y),f=k.hasEagerState?k.eagerState:r(f,Y)}else z={lane:Y,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,At.lanes|=Y,Rr|=Y;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=E,!dn(f,e.memoizedState)&&(Ae=!0,q&&(r=ya,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Kg(e,n,r){var o=At,h=de(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!dn((Kt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ae=!0),h=h.queue,ff(Jg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Zg.bind(null,o,h,r,n),null),Jt===null)throw Error(a(349));f||(xi&127)!==0||Xg(o,n,r)}return r}function Xg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Vu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Zg(e,n,r,o){n.value=r,n.getSnapshot=o,$g(n)&&Wg(e)}function Jg(e,n,r){return r(function(){$g(n)&&Wg(e)})}function $g(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!dn(e,r)}catch{return!0}}function Wg(e){var n=ys(e,2);n!==null&&ln(n,e,2)}function cf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),ws){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function tp(e,n,r,o){return e.baseState=r,lf(e,Kt,typeof o=="function"?o:Pi)}function nA(e,n,r,o,h){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ep(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ep(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),w=H.S;w!==null&&w(g,E),np(e,n,E)}catch(k){hf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),np(e,n,f)}catch(k){hf(e,n,k)}}function np(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ip(e,n,o)},function(o){return hf(e,n,o)}):ip(e,n,r)}function ip(e,n,r){n.status="fulfilled",n.value=r,rp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ep(e,r)))}function hf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,rp(n),n=n.next;while(n!==o)}e.action=null}function rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function ap(e,n){if(Vt){var r=Jt.formState;if(r!==null){t:{var o=At;if(Vt){if(te){e:{for(var h=te,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=On(h.nextSibling),o=h.data==="F!";break t}}pr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},r.queue=o,r=Rp.bind(null,At,o),o.dispatch=r,o=cf(!1),f=yf.bind(null,At,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=nA.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function op(e){var n=de();return lp(n,Kt,e)}function lp(e,n,r){if(n=lf(e,n,sp)[0],e=Uu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===_a?bu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Sa(9,{destroy:void 0},iA.bind(null,h,r),null)),[o,f,e]}function iA(e,n){e.action=n}function up(e){var n=de(),r=Kt;if(r!==null)return lp(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Sa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Vu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function cp(){return de().memoizedState}function Lu(e,n,r,o){var h=We();At.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},r,o===void 0?null:o)}function xu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&ef(o,Kt.memoizedState.deps)?h.memoizedState=Sa(n,f,r,o):(At.flags|=e,h.memoizedState=Sa(1|n,f,r,o))}function hp(e,n){Lu(8390656,8,e,n)}function ff(e,n){xu(2048,8,e,n)}function rA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Vu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function fp(e){var n=de().memoizedState;return rA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dp(e,n){return xu(4,2,e,n)}function mp(e,n){return xu(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,r){r=r!=null?r.concat([e]):null,xu(4,4,gp.bind(null,n,e),r)}function df(){}function yp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ef(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function _p(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ef(n,o[1]))return o[0];if(o=e(),ws){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function mf(e,n,r){return r===void 0||(xi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=vy(),At.lanes|=e,Rr|=e,r)}function vp(e,n,r,o){return dn(r,n)?r:Ea.current!==null?(e=mf(e,r,o),dn(e,n)||(Ae=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(It&261930)===0?(Ae=!0,e.memoizedState=r):(e=vy(),At.lanes|=e,Rr|=e,n)}function Ep(e,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,yf(e,!1,n,r);try{var w=h(),k=H.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=W0(w,o);Fo(e,n,q,vn(e))}else Fo(e,n,o,vn(e))}catch(Y){Fo(e,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function sA(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Tp(e).queue;Ep(e,h,n,ft,r===null?sA:function(){return Ap(e),r(o)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},vn())}function pf(){return Be(ll)}function Sp(){return de().memoizedState}function bp(){return de().memoizedState}function aA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();e=vr(r);var o=Er(n,e,r);o!==null&&(ln(o,n,r),Bo(o,n,r)),n={cache:Gh()},e.payload=n;return}n=n.return}}function oA(e,n,r){var o=vn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?wp(n,r):(r=Mh(e,n,r,o),r!==null&&(ln(r,e,o),Ip(r,n,o)))}function Rp(e,n,r){var o=vn();Fo(e,n,r,o)}function Fo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))wp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return yu(e,n,h,0),Jt===null&&pu(),!1}catch{}finally{}if(r=Mh(e,n,h,o),r!==null)return ln(r,e,o),Ip(r,n,o),!0}return!1}function yf(e,n,r,o){if(o={lane:2,revertLane:Xf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=Mh(e,r,o,2),n!==null&&ln(n,e,2)}function Pu(e){var n=e.alternate;return e===At||n!==null&&n===At}function wp(e,n){Ta=Nu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ip(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,fo(e,r)}}var Qo={readContext:Be,use:Mu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Qo.useEffectEvent=le;var Cp={readContext:Be,use:Mu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:hp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Lu(4194308,4,gp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(ws){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var h=r(n);if(ws){En(!0);try{r(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=oA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,r=Rp.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:df,useDeferredValue:function(e,n){var r=We();return mf(r,e,n)},useTransition:function(){var e=cf(!1);return e=Ep.bind(null,At,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=We();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(It&127)!==0||Xg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,hp(Jg.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Zg.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=Jt.identifierPrefix;if(Vt){var r=yi,o=pi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ou++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=tA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pf,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return We().memoizedState=aA.bind(null,At)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},_f={readContext:Be,use:Mu,useCallback:yp,useContext:Be,useEffect:ff,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Uu,useRef:cp,useState:function(){return Uu(Pi)},useDebugValue:df,useDeferredValue:function(e,n){var r=de();return vp(r,Kt.memoizedState,e,n)},useTransition:function(){var e=Uu(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Kg,useId:Sp,useHostTransitionStatus:pf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var r=de();return tp(r,Kt,e,n)},useMemoCache:of,useCacheRefresh:bp};_f.useEffectEvent=fp;var Dp={readContext:Be,use:Mu,useCallback:yp,useContext:Be,useEffect:ff,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:uf,useRef:cp,useState:function(){return uf(Pi)},useDebugValue:df,useDeferredValue:function(e,n){var r=de();return Kt===null?mf(r,e,n):vp(r,Kt.memoizedState,e,n)},useTransition:function(){var e=uf(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Kg,useId:Sp,useHostTransitionStatus:pf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var r=de();return Kt!==null?tp(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:of,useCacheRefresh:bp};Dp.useEffectEvent=fp;function vf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ef={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vn(),h=vr(o);h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(ln(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vn(),h=vr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(ln(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vn(),o=vr(r);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,r),n!==null&&(ln(n,e,r),Bo(n,e,r))}};function Np(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(r,o)||!Vo(h,f):!0}function Op(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Ef.enqueueReplaceState(n,n.state,null)}function Is(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Vp(e){gu(e)}function Mp(e){console.error(e)}function Up(e){gu(e)}function ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,n,r){return r=vr(r),r.tag=3,r.payload={element:null},r.callback=function(){ku(e,n)},r}function xp(e){return e=vr(e),e.tag=3,e}function Pp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Lp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lp(n,r,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function lA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?Zu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Qf(e,o,h)),!1;case 22:return r.flags|=65536,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Qf(e,o,h)),!1}throw Error(a(435,r.tag))}return Qf(e,o,h),Zu(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(a(422),{cause:o}),Lo(wn(e,r)))):(o!==zh&&(n=Error(a(423),{cause:o}),Lo(wn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,r),h=Tf(e.stateNode,o,h),Zh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=wn(f,r),tl===null?tl=[f]:tl.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Tf(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=xp(h),Pp(h,e,r,o),Zh(r,h),!1}r=r.return}while(r!==null);return!1}var Af=Error(a(461)),Ae=!1;function je(e,n,r,o){n.child=e===null?jg(n,null,r,o):Rs(n,e.child,r,o)}function kp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ts(n),o=nf(e,n,r,g,f,h),E=rf(),e!==null&&!Ae?(sf(e,n,h),ki(e,n,h)):(Vt&&E&&Ph(n),n.flags|=1,je(e,n,o,h),n.child)}function zp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Bp(e,n,f,o,h)):(e=vu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(g,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Bp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,ki(e,n,h)}return Sf(e,n,r,o,h)}function jp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return qp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,f!==null?f.cachePool:null),f!==null?Gg(n,f):$h(),Fg(n);else return o=n.lanes=536870912,qp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Su(n,f.cachePool),Gg(n,f),Ar(),n.memoizedState=null):(e!==null&&Su(n,null),$h(),Ar());return je(e,n,h,r),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qp(e,n,r,o,h){var f=Qh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Su(n,null),$h(),Fg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function zu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Hp(e,n,r){return Rs(n,e.child,null,r),e=zu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function uA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=zu(n,o),n.lanes=536870912,Yo(null,e);if(tf(n),(e=te)?(e=e_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=wg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(tf(n),h)if(n.flags&256)n.flags&=-257,n=Hp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||ga(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=Jt,o!==null&&(g=mo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ys(e,g),ln(o,e,g),Af;Zu(),n=Hp(e,n,r)}else e=f.treeContext,te=On(g.nextSibling),ze=n,Vt=!0,gr=null,Dn=!1,e!==null&&Dg(n,e),n=zu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,h){return Ts(n),r=nf(e,n,r,o,void 0,h),o=rf(),e!==null&&!Ae?(sf(e,n,h),ki(e,n,h)):(Vt&&o&&Ph(n),n.flags|=1,je(e,n,r,h),n.child)}function Gp(e,n,r,o,h,f){return Ts(n),n.updateQueue=null,r=Yg(n,o,r,h),Qg(e),o=rf(),e!==null&&!Ae?(sf(e,n,f),ki(e,n,f)):(Vt&&o&&Ph(n),n.flags|=1,je(e,n,r,f),n.child)}function Fp(e,n,r,o,h){if(Ts(n),n.stateNode===null){var f=ha,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ha,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(vf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ef.enqueueReplaceState(f,f.state,null),qo(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Is(r,E);f.props=w;var k=f.context,q=r.contextType;g=ha,typeof q=="object"&&q!==null&&(g=Be(q));var Y=r.getDerivedStateFromProps;q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Op(n,f,o,g),_r=!1;var z=n.memoizedState;f.state=z,qo(n,o,f,h),jo(),k=n.memoizedState,E||z!==k||_r?(typeof Y=="function"&&(vf(n,r,Y,o),k=n.memoizedState),(w=_r||Np(n,r,w,o,z,k,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),g=n.memoizedProps,q=Is(r,g),f.props=q,Y=n.pendingProps,z=f.context,k=r.contextType,w=ha,typeof k=="object"&&k!==null&&(w=Be(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==w)&&Op(n,f,o,w),_r=!1,z=n.memoizedState,f.state=z,qo(n,o,f,h),jo();var j=n.memoizedState;g!==Y||z!==j||_r||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof E=="function"&&(vf(n,r,E,o),j=n.memoizedState),(q=_r||Np(n,r,q,o,z,j,w)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=w,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,r,h)):je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ki(e,n,h),e}function Qp(e,n,r,o){return vs(),n.flags|=256,je(e,n,r,o),n.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Lg()}}function wf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function Yp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Tr(n):Ar(),(e=te)?(e=e_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=wg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw pr(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=ju({mode:"hidden",children:E},h),o=_s(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(r),o.childLanes=wf(e,g,r),n.memoizedState=bf,Yo(null,o)):(Tr(n),If(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=Cf(e,n,r)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=ju({mode:"visible",children:o.children},h),E=_s(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rs(n,e.child,null,r),o=n.child,o.memoizedState=Rf(r),o.childLanes=wf(e,g,r),n.memoizedState=bf,n=Yo(null,o));else if(Tr(n),ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Cf(e,n,r)}else if(Ae||ga(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=Jt,g!==null&&(o=mo(g,r),o!==0&&o!==w.retryLane))throw w.retryLane=o,ys(e,o),ln(g,e,o),Af;od(E)||Zu(),n=Cf(e,n,r)}else od(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,te=On(E.nextSibling),ze=n,Vt=!0,gr=null,Dn=!1,e!==null&&Dg(n,e),n=If(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,w=e.child,k=w.sibling,o=Vi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,k!==null?E=Vi(k,E):(E=_s(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(r):(h=E.cachePool,h!==null?(w=Ee._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Lg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,g,r),n.memoizedState=bf,Yo(e.child,o)):(Tr(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function If(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Cf(e,n,r){return Rs(n,e.child,null,r),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,r)}function Df(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Xp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),je(e,n,o,r),o=Vt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,r,n);else if(e.tag===19)Kp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Du(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Df(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Df(n,!0,r,null,f,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function cA(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),yr(n,Ee,e.memoizedState.cache),vs();break;case 27:case 5:Wr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Yp(e,n,r):(Tr(n),e=ki(e,n,r),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Xp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,jp(e,n,r,n.pendingProps);case 24:yr(n,Ee,e.memoizedState.cache)}return ki(e,n,r)}function Zp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Nf(e,r)&&(n.flags&128)===0)return Ae=!1,cA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&Cg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ss(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Is(e,o),n.tag=1,n=Fp(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=kp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=zp(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Is(o,n.pendingProps),Fp(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Xh(e,n),qo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,yr(n,Ee,o),o!==f.cache&&Hh(n,[Ee],r,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qp(e,n,o,r);break t}else if(o!==h){h=wn(Error(a(424)),n),Lo(h),n=Qp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=On(e.firstChild),ze=n,Vt=!0,gr=null,Dn=!0,r=jg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(vs(),o===h){n=ki(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return Bu(e,n),e===null?(r=o_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=ic(St.current).createElement(r),o[ye]=n,o[Me]=e,qe(o,r,e),_e(o),n.stateNode=o):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wr(n),e===null&&Vt&&(o=n.stateNode=r_(n.type,n.pendingProps,St.current),ze=n,Dn=!0,h=te,Nr(n.type)?(ud=h,te=On(o.firstChild)):te=h),je(e,n,n.pendingProps.children,r),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=BA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,te=On(o.firstChild),Dn=!1,h=!0):h=!1),h||pr(n)),Wr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=nf(e,n,eA,null,null,r),ll._currentValue=h),Bu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=te)&&(r=jA(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||pr(n)),null;case 13:return Yp(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,r):je(e,n,o,r),n.child;case 11:return kp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ts(n),h=Be(h),o=o(h),n.flags|=1,je(e,n,o,r),n.child;case 14:return zp(e,n,n.type,n.pendingProps,r);case 15:return Bp(e,n,n.type,n.pendingProps,r);case 19:return Xp(e,n,r);case 31:return uA(e,n,r);case 22:return jp(e,n,r,n.pendingProps);case 24:return Ts(n),o=Be(Ee),e===null?(h=Qh(),h===null&&(h=Jt,f=Gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Kh(n),yr(n,Ee,h)):((e.lanes&r)!==0&&(Xh(e,n),qo(n,null,null,r),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,Ee,o)):(o=f.cache,yr(n,Ee,o),o!==h.cache&&Hh(n,[Ee],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function Of(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw bs=Ru,Yh}else e.flags&=-16777217}function Jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n))if(Sy())e.flags|=8192;else throw bs=Ru,Yh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,Ia|=n)}function Ko(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function hA(e,n,r){var o=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),Jp(n,f)):(ee(n),Of(n,h,null,o,r))):f?f!==e.memoizedState?(zi(n),ee(n),Jp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Of(n,h,e,o,r)),null;case 27:if(Qs(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=st.current,ma(n)?Ng(n):(e=r_(h,o,r),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Qs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=st.current,ma(n))Ng(n);else{var g=ic(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,ma(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,r)),e||pr(n,!0)}else e=ic(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),qu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&Wf(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Rg(r,e),r=r.sibling;return tt(fe,fe.current&1|2),Vt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Yu&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Du(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*Je()-o.renderingStartTime>Yu&&r!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,r=fe.current,tt(fe,h?r&1|2:r&1),Vt&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return pn(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&qu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(As),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function fA(e,n){switch(kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return pn(n),Wh(),e!==null&&K(As),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function $p(e,n){switch(kh(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:Qs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(fe);break;case 10:Li(n.type);break;case 22:case 23:pn(n),Wh(),e!==null&&K(As);break;case 24:Li(Ee)}}function Xo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Qt(n,n.return,E)}}function Sr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var w=r,k=E;try{k()}catch(q){Qt(h,w,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Wp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Hg(n,r)}catch(o){Qt(e,e.return,o)}}}function ty(e,n,r){r.props=Is(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Zo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Qt(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Qt(e,n,h)}else r.current=null}function ey(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Qt(e,e.return,h)}}function Vf(e,n,r){try{var o=e.stateNode;UA(o,e.type,r,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,r),e=e.sibling;e!==null;)Uf(e,n,r),e=e.sibling}function Hu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Hu(e,n,r),e=e.sibling;e!==null;)Hu(e,n,r),e=e.sibling}function iy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,r),n[ye]=e,n[Me]=r}catch(f){Qt(e,e.return,f)}}var Bi=!1,Se=!1,Lf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Le=null;function dA(e,n){if(e=e.containerInfo,nd=cc,e=pg(e),Ih(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,w=-1,k=0,q=0,Y=e,z=null;e:for(;;){for(var j;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(w=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===r&&++k===h&&(E=g),z===f&&++q===o&&(w=g),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},cc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Is(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Qt(r,r.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ad(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function sy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Xo(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var h=Is(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Wp(r),o&512&&Zo(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Hg(e,n)}catch(g){Qt(r,r.return,g)}}break;case 27:n===null&&o&4&&iy(r);case 26:case 5:qi(e,r),n===null&&o&4&&ey(r),o&512&&Zo(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&ly(e,r);break;case 13:qi(e,r),o&4&&uy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=AA.bind(null,r),qA(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Bi;var f=Se;Bi=o,(Se=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),Bi=h,Se=f}break;case 30:break;default:qi(e,r)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Js(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)oy(e,n,r),r=r.sibling}function oy(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Se||_i(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||_i(r,n);var o=ae,h=rn;Nr(r.type)&&(ae=r.stateNode,rn=!1),ji(e,n,r),sl(r.stateNode),ae=o,rn=h;break;case 5:Se||_i(r,n);case 6:if(o=ae,h=rn,ae=null,ji(e,n,r),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),La(e)):Wy(ae,r.stateNode));break;case 4:o=ae,h=rn,ae=r.stateNode.containerInfo,rn=!0,ji(e,n,r),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Sr(2,r,n),Se||Sr(4,r,n),ji(e,n,r);break;case 1:Se||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ty(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,ji(e,n,r),Se=o;break;default:ji(e,n,r)}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(r){Qt(n,n.return,r)}}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(r){Qt(n,n.return,r)}}function mA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ry),n;default:throw Error(a(435,e.tag))}}function Gu(e,n){var r=mA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=SA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));oy(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var Fn=null;function cy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Sr(3,e,e.return),Xo(3,e),Sr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Fn;if(sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=c_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=c_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?h_(h,e.type,e.stateNode):u_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),r!==null&&o&4&&Vf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(ac=null,h=Fn,Fn=rc(n.containerInfo),sn(n,e),Fn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Qt(e,e.return,at)}Lf&&(Lf=!1,hy(e));break;case 4:o=Fn,Fn=rc(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,k=Bi,q=Se;if(Bi=k||h,Se=q||w,sn(n,e),Se=q,Bi=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||w||Bi||Se||Cs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Qt(w,w.return,at)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(at){Qt(w,w.return,at)}}}else if(n.tag===18){if(r===null){w=n;try{var j=w.stateNode;h?t_(j,!0):t_(w.stateNode,!1)}catch(at){Qt(w,w.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Gu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ny(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Mf(e);Hu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=Mf(e);Hu(e,E,g);break;case 3:case 4:var w=r.stateNode.containerInfo,k=Mf(e);Uf(e,k,w);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),Cs(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ty(n,n.return,r),Cs(n);break;case 27:sl(n.stateNode);case 26:case 5:_i(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,r),Xo(4,f);break;case 1:if(Hi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Qt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)qg(w[h],E)}catch(k){Qt(o,o.return,k)}}r&&g&64&&Wp(f),Zo(f,f.return);break;case 27:iy(f);case 26:case 5:Hi(h,f,r),r&&o===null&&g&4&&ey(f),Zo(f,f.return);break;case 12:Hi(h,f,r);break;case 31:Hi(h,f,r),r&&g&4&&ly(h,f);break;case 13:Hi(h,f,r),r&&g&4&&uy(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,r),Zo(f,f.return);break;case 30:break;default:Hi(h,f,r)}n=n.sibling}}function xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(e,n,r,o),n=n.sibling}function fy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&Xo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Jo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,ba(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&xf(g,n);break;case 24:Qn(e,n,r,o),h&2048&&Pf(n.alternate,n);break;default:Qn(e,n,r,o)}}function ba(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,w=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,w,h),Xo(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?ba(f,g,E,w,h):Jo(f,g):(q._visibility|=2,ba(f,g,E,w,h)),h&&k&2048&&xf(g.alternate,g);break;case 24:ba(f,g,E,w,h),h&&k&2048&&Pf(g.alternate,g);break;default:ba(f,g,E,w,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(r,o),h&2048&&xf(o.alternate,o);break;case 24:Jo(r,o),h&2048&&Pf(o.alternate,o);break;default:Jo(r,o)}n=n.sibling}}var $o=8192;function Ra(e,n,r){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)dy(e,n,r),e=e.sibling}function dy(e,n,r){switch(e.tag){case 26:Ra(e,n,r),e.flags&$o&&e.memoizedState!==null&&tS(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,r);break;case 3:case 4:var o=Fn;Fn=rc(e.stateNode.containerInfo),Ra(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Ra(e,n,r),$o=o):Ra(e,n,r));break;default:Ra(e,n,r)}}function my(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,py(o,e)}my(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Wo(e);break;default:Wo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,py(o,e)}my(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),Fu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function py(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(ay(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var gA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},pA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,Rt=null,It=0,Ft=0,yn=null,br=!1,wa=!1,kf=!1,Gi=0,ue=0,Rr=0,Ds=0,zf=0,_n=0,Ia=0,tl=null,on=null,Bf=!1,Qu=0,yy=0,Yu=1/0,Ku=null,wr=null,Oe=0,Ir=null,Ca=null,Fi=0,jf=0,qf=null,_y=null,el=0,Hf=null;function vn(){return(Bt&2)!==0&&It!==0?It&-It:H.T!==null?Xf():Xl()}function vy(){if(_n===0)if((It&536870912)===0||Vt){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,r){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Cr(e,It,_n,!1)),is(e,r),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Ds|=r),ue===4&&Cr(e,It,_n,!1)),vi(e))}function Ey(e,n,r){if((Bt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),h=o?vA(e,n):Ff(e,n,!0),f=o;do{if(h===0){wa&&!o&&Cr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!yA(r)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=tl;var w=E.current.memoizedState.isDehydrated;if(w&&(Da(E,g).flags|=256),g=Ff(E,g,!1),g!==2){if(kf&&!w){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,_n,!br);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Qu+300-Je(),10<h)){if(Cr(o,n,_n,!br),ei(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Jy(Ty.bind(null,o,r,on,Ku,Bf,n,_n,Ds,Ia,br,f,"Throttled",-0,0),h);break t}Ty(o,r,on,Ku,Bf,n,_n,Ds,Ia,br,f,null,-0,0)}}break}while(!0);vi(e)}function Ty(e,n,r,o,h,f,g,E,w,k,q,Y,z,j){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},dy(n,f,Y);var at=(f&62914560)===f?Qu-Je():(f&4194048)===f?yy-Je():0;if(at=eS(Y,at),at!==null){Fi=f,e.cancelPendingCommit=at(Dy.bind(null,e,n,f,r,o,h,g,E,w,q,Y,null,z,j)),Cr(e,f,g,!k);return}}Dy(e,n,f,r,o,h,g,E,w)}function yA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,r,o){n&=~zf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&rs(e,r,n)}function Xu(){return(Bt&6)===0?(nl(0),!1):!0}function Gf(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,Ui=Es=null,af(e),va=null,ko=0,e=Rt;for(;e!==null;)$p(e.alternate,e),e=e.return;Rt=null}}function Da(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,PA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fi=0,Gf(),Jt=e,Rt=r=Vi(e.current,null),It=n,Ft=0,yn=null,br=!1,wa=xn(e,n),kf=!1,Ia=_n=zf=Ds=Rr=ue=0,on=tl=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,pu(),r}function Ay(e,n){At=null,H.H=Qo,n===_a||n===bu?(n=kg(),Ft=3):n===Yh?(n=kg(),Ft=4):Ft=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Rt===null&&(ue=1,ku(e,wn(n,e.current)))}function Sy(){var e=gn.current;return e===null?!0:(It&4194048)===It?Nn===null:(It&62914560)===It||(It&536870912)!==0?e===Nn:!1}function by(){var e=H.H;return H.H=Qo,e===null?Qo:e}function Ry(){var e=H.A;return H.A=gA,e}function Zu(){ue=4,br||(It&4194048)!==It&&gn.current!==null||(wa=!0),(Rr&134217727)===0&&(Ds&134217727)===0||Jt===null||Cr(Jt,It,_n,!1)}function Ff(e,n,r){var o=Bt;Bt|=2;var h=by(),f=Ry();(Jt!==e||It!==n)&&(Ku=null,Da(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,w=yn;switch(Ft){case 8:Gf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Ft;if(Ft=0,yn=null,Na(e,E,w,k),r&&wa){g=0;break t}break;default:k=Ft,Ft=0,yn=null,Na(e,E,w,k)}}_A(),g=ue;break}catch(q){Ay(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ui=Es=null,Bt=o,H.H=h,H.A=f,Rt===null&&(Jt=null,It=0,pu()),g}function _A(){for(;Rt!==null;)wy(Rt)}function vA(e,n){var r=Bt;Bt|=2;var o=by(),h=Ry();Jt!==e||It!==n?(Ku=null,Yu=Je()+500,Da(e,n)):wa=xn(e,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Na(e,n,f,1);break;case 2:case 9:if(xg(f)){Ft=0,yn=null,Iy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),vi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:xg(f)?(Ft=0,yn=null,Iy(n)):(Ft=0,yn=null,Na(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?f_(g):E.stateNode.complete){Ft=0,yn=null;var w=E.sibling;if(w!==null)Rt=w;else{var k=E.return;k!==null?(Rt=k,Ju(k)):Rt=null}break e}}Ft=0,yn=null,Na(e,n,f,5);break;case 6:Ft=0,yn=null,Na(e,n,f,6);break;case 8:Gf(),ue=6;break t;default:throw Error(a(462))}}EA();break}catch(q){Ay(e,q)}while(!0);return Ui=Es=null,H.H=o,H.A=h,Bt=r,Rt!==null?0:(Jt=null,It=0,pu(),ue)}function EA(){for(;Rt!==null&&!Eh();)wy(Rt)}function wy(e){var n=Zp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Ju(e):Rt=n}function Iy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Gp(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Gp(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:af(n);default:$p(r,n),n=Rt=Rg(n,Gi),n=Zp(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):Rt=n}function Na(e,n,r,o){Ui=Es=null,af(n),va=null,ko=0;var h=n.return;try{if(lA(e,h,n,r,It)){ue=1,ku(e,wn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,ku(e,wn(r,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:wa||(It&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){Cy(n,br);return}e=n.return;var r=hA(n.alternate,n,Gi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function Cy(e,n){do{var r=fA(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ue=6,Rt=null}function Dy(e,n,r,o,h,f,g,E,w){e.cancelPendingCommit=null;do $u();while(Oe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,Sh(e,r,f,g,E,w),e===Jt&&(Rt=Jt=null,It=0),Ca=n,Ir=e,Fi=r,jf=f,qf=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(rr,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=Bt,Bt|=4;try{dA(e,n,r)}finally{Bt=g,W.p=h,H.T=o}}Oe=1,Ny(),Oy(),Vy()}}function Ny(){if(Oe===1){Oe=0;var e=Ir,n=Ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{cy(n,e);var f=id,g=pg(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&gg(E.ownerDocument.documentElement,E)){if(w!==null&&Ih(E)){var k=w.start,q=w.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var j=z.getSelection(),at=E.textContent.length,dt=Math.min(w.start,at),Zt=w.end===void 0?dt:Math.min(w.end,at);!j.extend&&dt>Zt&&(g=Zt,Zt=dt,dt=g);var U=mg(E,dt),D=mg(E,Zt);if(U&&D&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),j.removeAllRanges(),dt>Zt?(j.addRange(P),j.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),j.addRange(P))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}cc=!!nd,id=nd=null}finally{Bt=h,W.p=o,H.T=r}}e.current=n,Oe=2}}function Oy(){if(Oe===2){Oe=0;var e=Ir,n=Ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{sy(e,n.alternate,n)}finally{Bt=h,W.p=o,H.T=r}}Oe=3}}function Vy(){if(Oe===4||Oe===3){Oe=0,ql();var e=Ir,n=Ca,r=Fi,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ca=Ir=null,My(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),Ci(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Fi&3)!==0&&$u(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Hf?el++:(el=0,Hf=e):el=0,nl(0)}}function My(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function $u(){return Ny(),Oy(),Vy(),Uy()}function Uy(){if(Oe!==5)return!1;var e=Ir,n=jf;jf=0;var r=Ci(Fi),o=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=qf,qf=null;var f=Ir,g=Fi;if(Oe=0,Ca=Ir=null,Fi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,gy(f.current),fy(f,f.current,g,r),Bt=E,nl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=h,H.T=o,My(e,n)}}function Ly(e,n,r){n=wn(r,n),n=Tf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(is(e,2),vi(e))}function Qt(e,n,r){if(e.tag===3)Ly(e,e,r);else for(;n!==null;){if(n.tag===3){Ly(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=wn(r,e),r=xp(2),o=Er(n,r,2),o!==null&&(Pp(r,o,n,e),is(o,2),vi(o));break}}n=n.return}}function Qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new pA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(kf=!0,h.add(r),e=TA.bind(null,e,n,r),n.then(e,e))}function TA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(It&r)===r&&(ue===4||ue===3&&(It&62914560)===It&&300>Je()-Qu?(Bt&2)===0&&Da(e,0):zf|=r,Ia===It&&(Ia=0)),vi(e)}function xy(e,n){n===0&&(n=Kl()),e=ys(e,n),e!==null&&(is(e,n),vi(e))}function AA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),xy(e,r)}function SA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),xy(e,r)}function bA(e,n){return Ne(e,n)}var Wu=null,Oa=null,Yf=!1,tc=!1,Kf=!1,Dr=0;function vi(e){e!==Oa&&e.next===null&&(Oa===null?Wu=Oa=e:Oa=Oa.next=e),tc=!0,Yf||(Yf=!0,wA())}function nl(e,n){if(!Kf&&tc){Kf=!0;do for(var r=!1,o=Wu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,By(o,f))}else f=It,f=ei(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(r=!0,By(o,f));o=o.next}while(r);Kf=!1}}function RA(){Py()}function Py(){tc=Yf=!1;var e=0;Dr!==0&&xA()&&(e=Dr);for(var n=Je(),r=null,o=Wu;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,r===null?Wu=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=h}Oe!==0&&Oe!==5||nl(e),Dr!==0&&(Dr=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=h[g];w===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ah(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=It,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ir(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ir(o),Ci(r)){case 2:case 8:r=ho;break;case 32:r=rr;break;case 268435456:r=Hl;break;default:r=rr}return o=zy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ir(o),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var o=It;return o=ei(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),ky(e,Je()),e.callbackNode!=null&&e.callbackNode===r?zy.bind(null,e):null)}function By(e,n){if($u())return null;Ey(e,n,!0)}function wA(){kA(function(){(Bt&6)!==0?Ne(co,RA):Py()})}function Xf(){if(Dr===0){var e=pa;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Dr=e}return Dr}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function IA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=jy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var w=g?qy(h,g):new FormData(h);gf(r,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?qy(h,g):new FormData(h),gf(r,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Zf=0;Zf<Oh.length;Zf++){var Jf=Oh[Zf],CA=Jf.toLowerCase(),DA=Jf[0].toUpperCase()+Jf.slice(1);Gn(CA,"on"+DA)}Gn(vg,"onAnimationEnd"),Gn(Eg,"onAnimationIteration"),Gn(Tg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(F0,"onTransitionRun"),Gn(Q0,"onTransitionStart"),Gn(Y0,"onTransitionCancel"),Gn(Ag,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Hy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(q){gu(q)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(q){gu(q)}h.currentTarget=null,f=w}}}}function wt(e,n){var r=n[Zs];r===void 0&&(r=n[Zs]=new Set);var o=e+"__bubble";r.has(o)||(Gy(n,e,2,!1),r.add(o))}function $f(e,n,r){var o=0;n&&(o|=4),Gy(r,e,o,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[ec]){e[ec]=!0,go.forEach(function(r){r!=="selectionchange"&&(NA.has(r)||$f(r,!1,e),$f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ec]||(n[ec]=!0,$f("selectionchange",!1,n))}}function Gy(e,n,r,o){switch(v_(n)){case 2:var h=rS;break;case 8:h=sS;break;default:h=md}r=h.bind(null,n,r,e),h=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function td(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cr(function(){var k=f,q=An(r),Y=[];t:{var z=Sg.get(e);if(z!==void 0){var j=fi,at=e;switch(e){case"keypress":if(hs(r)===0)break t;case"keydown":case"keyup":j=fu;break;case"focusin":at="focus",j=ds;break;case"focusout":at="blur",j=ds;break;case"beforeblur":case"afterblur":j=ds;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case vg:case Eg:case Tg:j=su;break;case Ag:j=T;break;case"scroll":case"scrollend":j=Io;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=Tt}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),U=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=k,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=Bn(D,U),F!=null&&dt.push(rl(D,F,P))),Zt)break;D=D.return}0<dt.length&&(z=new j(z,at,null,r,q),Y.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==bo&&(at=r.relatedTarget||r.fromElement)&&(si(at)||at[ii]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(at=r.relatedTarget||r.toElement,j=k,at=at?si(at):null,at!==null&&(Zt=c(at),dt=at.tag,at!==Zt||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(j=null,at=k),j!==at)){if(dt=Co,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Oi,F="onPointerLeave",U="onPointerEnter",D="pointer"),Zt=j==null?z:hn(j),P=at==null?z:hn(at),z=new dt(F,D+"leave",j,r,q),z.target=Zt,z.relatedTarget=P,F=null,si(q)===k&&(dt=new dt(U,D+"enter",at,r,q),dt.target=P,dt.relatedTarget=Zt,F=dt),Zt=F,j&&at)e:{for(dt=OA,U=j,D=at,P=0,F=U;F;F=dt(F))P++;F=0;for(var ut=D;ut;ut=dt(ut))F++;for(;0<P-F;)U=dt(U),P--;for(;0<F-P;)D=dt(D),F--;for(;P--;){if(U===D||D!==null&&U===D.alternate){dt=U;break e}U=dt(U),D=dt(D)}dt=null}else dt=null;j!==null&&Fy(Y,z,j,dt,!1),at!==null&&Zt!==null&&Fy(Y,Zt,at,dt,!0)}}t:{if(z=k?hn(k):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=lg;else if(ag(z))if(ug)Pt=q0;else{Pt=B0;var lt=z0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ta(k.elementType)&&(Pt=lg):Pt=j0;if(Pt&&(Pt=Pt(e,k))){og(Y,Pt,r,q);break t}lt&&lt(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&To(z,"number",z.value)}switch(lt=k?hn(k):window,e){case"focusin":(ag(lt)||lt.contentEditable==="true")&&(la=lt,Ch=k,Mo=null);break;case"focusout":Mo=Ch=la=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,yg(Y,r,q);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":yg(Y,r,q)}var bt;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else oa?ms(e,r)&&(Ct="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ct="onCompositionStart");Ct&&(gi&&r.locale!=="ko"&&(oa||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&oa&&(bt=wo()):(hi=q,Ro="value"in hi?hi.value:hi.textContent,oa=!0)),lt=nc(k,Ct),0<lt.length&&(Ct=new mi(Ct,e,null,r,q),Y.push({event:Ct,listeners:lt}),bt?Ct.data=bt:(bt=aa(r),bt!==null&&(Ct.data=bt)))),(bt=bn?L0(e,r):x0(e,r))&&(Ct=nc(k,"onBeforeInput"),0<Ct.length&&(lt=new mi("onBeforeInput","beforeinput",null,r,q),Y.push({event:lt,listeners:Ct}),lt.data=bt)),IA(Y,e,k,r,q)}Hy(Y,n)})}function rl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function nc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,r),h!=null&&o.unshift(rl(e,h,f)),h=Bn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function OA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||k===null||(w=k,h?(k=Bn(r,f),k!=null&&g.unshift(rl(r,k,w))):h||(k=Bn(r,f),k!=null&&g.push(rl(r,k,w)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var VA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(VA,`
`).replace(MA,"")}function Yy(e,n){return n=Qy(n),Qy(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,o);break;case"style":So(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),$s(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$s(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nu.get(r)||r,$s(e,r,o))}}function ed(e,n,r,o,h,f){switch(r){case"style":So(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):$s(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":wt("invalid",e);var E=f=g=h=null,w=null,k=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":w=q;break;case"defaultChecked":k=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Xt(e,n,o,q,r,null)}}Wl(e,f,E,w,k,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ar(e,!!o,n,!1):r!=null&&ar(e,!!o,r,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,r,null)}or(e,o,h,f);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(o=r[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,w,o,r,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)wt(il[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,k,o,r,null)}return;default:if(ta(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&ed(e,n,q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function UA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,w=null,k=null,q=null;for(j in r){var Y=r[j];if(r.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=Y;default:o.hasOwnProperty(j)||Xt(e,n,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":k=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Y&&Xt(e,n,z,j,o,Y)}}Ws(e,g,E,w,k,q,f,h);return;case"select":j=g=E=z=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=r[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(e,n,h,f,o,w)}n=E,r=g,o=j,z!=null?ar(e,!!r,z,!1):!!o!=!!r&&(n!=null?ar(e,!!r,n,!0):ar(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}tu(e,z,j);return;case"option":for(var at in r)if(z=r[at],r.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Xt(e,n,at,null,o,z)}for(w in o)if(z=o[w],j=r[w],o.hasOwnProperty(w)&&z!==j&&(z!=null||j!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,w,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)z=r[dt],r.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Xt(e,n,dt,null,o,z);for(k in o)if(z=o[k],j=r[k],o.hasOwnProperty(k)&&z!==j&&(z!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,k,z,o,j)}return;default:if(ta(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&ed(e,n,Zt,void 0,o,z);for(q in o)z=o[q],j=r[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||ed(e,n,q,z,o,j);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(Y in o)z=o[Y],j=r[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||Xt(e,n,Y,z,o,j)}function Ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Ky(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var w=r[o],k=w.startTime;if(k>E)break;var q=w.transferSize,Y=w.initiatorType;q&&Ky(Y)&&(w=w.responseEnd,g+=q*(w<E?1:(E-k)/(w-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nd=null,id=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function xA(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(zA)}:Jy;function zA(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function Wy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")sl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,sl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&sl(e.ownerDocument.body);r=h}while(r);La(n)}function t_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ad(r),Js(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function BA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function jA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function e_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ud=null;function n_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function i_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,r){switch(n=ic(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Js(e)}var Vn=new Map,s_=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=W.d;W.d={f:HA,r:GA,D:FA,C:QA,L:YA,m:KA,X:ZA,S:XA,M:JA};function HA(){var e=Qi.f(),n=Xu();return e||n}function GA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):Qi.r(e)}var Va=typeof document>"u"?null:document;function a_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function FA(e){Qi.D(e),a_("dns-prefetch",e,null)}function QA(e,n){Qi.C(e,n),a_("preconnect",e,n)}function YA(e,n,r){Qi.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Ua(e)}Vn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function KA(e,n){Qi.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Vn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ol(f)))return}o=r.createElement("link"),qe(o,"link",e),_e(o),r.head.appendChild(o)}}}function XA(e,n,r){Qi.S(e,n,r);var o=Va;if(o&&e){var h=ai(o).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(al(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&cd(e,r);var w=g=o.createElement("link");_e(w),qe(w,"link",e),w._p=new Promise(function(k,q){w.onload=k,w.onerror=q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ZA(e,n){Qi.X(e,n);var r=Va;if(r&&e){var o=ai(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(ol(h)),f||(e=S({src:e,async:!0},n),(n=Vn.get(h))&&hd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function JA(e,n){Qi.M(e,n);var r=Va;if(r&&e){var o=ai(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(ol(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&hd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o_(e,n,r,o){var h=(h=St.current)?rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ma(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||$A(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+en(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),_e(n),e.head.appendChild(n))}function Ua(e){return'[src="'+en(e)+'"]'}function ol(e){return"script[async]"+e}function u_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),qe(o,"style",h),sc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ma(r.href);var f=e.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=l_(r),(h=Vn.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",o),n.state.loading|=4,sc(f,r.precedence,e),n.instance=f;case"script":return f=Ua(r.src),(h=e.querySelector(ol(f)))?(n.instance=h,_e(h),h):(o=r,(h=Vn.get(f))&&(o=S({},r),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,r.precedence,e));return n.instance}function sc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function c_(e,n,r){if(ac===null){var o=new Map,h=ac=new Map;h.set(r,o)}else h=ac,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function h_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function WA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ma(o.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=l_(o),(h=Vn.get(h))&&cd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=oc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var fd=0;function eS(e,n){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&fd===0&&(fd=62500*LA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>fd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(nS,e),lc=null,oc.call(e))}function nS(e,n){if(!(n.state.loading&4)){var r=lc.get(e);if(r)var o=r.get(null);else{r=new Map,lc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function iS(e,n,r,o,h,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function d_(e,n,r,o,h,f,g,E,w,k,q,Y){return e=new iS(e,n,r,g,w,k,q,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Kh(f),e}function m_(e){return e?(e=ha,e):ha}function g_(e,n,r,o,h,f){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Er(e,o,n),r!==null&&(ln(r,e,n),Bo(r,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function dd(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function y_(e){if(e.tag===13||e.tag===31){var n=ys(e,67108864);n!==null&&ln(n,e,67108864),dd(e,67108864)}}function __(e){if(e.tag===13||e.tag===31){var n=vn();n=ss(n);var r=ys(e,n);r!==null&&ln(r,e,n),dd(e,n)}}var cc=!0;function rS(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,md(e,n,r,o)}finally{W.p=f,H.T=h}}function sS(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,md(e,n,r,o)}finally{W.p=f,H.T=h}}function md(e,n,r,o){if(cc){var h=gd(o);if(h===null)td(e,n,o,hc,r),E_(e,o);else if(oS(h,e,n,r,o))o.stopPropagation();else if(E_(e,o),n&4&&-1<aS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}vi(f),(Bt&6)===0&&(Yu=Je()+500,nl(0))}}break;case 31:case 13:E=ys(f,2),E!==null&&ln(E,f,2),Xu(),dd(f,2)}if(f=gd(o),f===null&&td(e,n,o,hc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else td(e,n,o,null,r)}}function gd(e){return e=An(e),pd(e)}var hc=null;function pd(e){if(hc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hc=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case co:return 2;case ho:return 8;case rr:case Th:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var yd=!1,Or=null,Vr=null,Mr=null,ul=new Map,cl=new Map,Ur=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function oS(e,n,r,o,h){switch(n){case"focusin":return Or=hl(Or,e,n,r,o,h),!0;case"dragenter":return Vr=hl(Vr,e,n,r,o,h),!0;case"mouseover":return Mr=hl(Mr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,r,o,h)),!0}return!1}function T_(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){__(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){__(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);bo=o,r.target.dispatchEvent(o),bo=null}else return n=Tn(r),n!==null&&y_(n),e.blockedOn=r,!1;n.shift()}return!0}function A_(e,n,r){fc(e)&&r.delete(n)}function lS(){yd=!1,Or!==null&&fc(Or)&&(Or=null),Vr!==null&&fc(Vr)&&(Vr=null),Mr!==null&&fc(Mr)&&(Mr=null),ul.forEach(A_),cl.forEach(A_)}function dc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lS)))}var mc=null;function S_(e){mc!==e&&(mc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function La(e){function n(w){return dc(w,e)}Or!==null&&dc(Or,e),Vr!==null&&dc(Vr,e),Mr!==null&&dc(Mr,e),ul.forEach(n),cl.forEach(n);for(var r=0;r<Ur.length;r++){var o=Ur[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(r=Ur[0],r.blockedOn===null);)T_(r),r.blockedOn===null&&Ur.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||S_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(pd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),S_(r)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function _d(e){this._internalRoot=e}gc.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=vn();g_(r,o,e,n,null,null)},gc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),Xu(),n[ii]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ur.length&&n!==0&&n<Ur[r].priority;r++);Ur.splice(r,0,e),r===0&&T_(e)}};var R_=t.version;if(R_!=="19.2.0")throw Error(a(527,R_,"19.2.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var uS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Ln=pc.inject(uS),Pe=pc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Vp,f=Mp,g=Up;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=d_(e,1,!1,null,null,r,o,null,h,f,g,b_),e[ii]=n.current,Wf(e),new _d(n)},dl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,g=Mp,E=Up,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),n=d_(e,1,!0,n,r??null,o,h,w,f,g,E,b_),n.context=m_(null),r=n.current,o=vn(),o=ss(o),h=vr(o),h.callback=null,Er(r,h,o),r=o,n.current.lanes=r,is(n,r),vi(n),e[ii]=n.current,Wf(e),new gc(n)},dl.version="19.2.0",dl}var L_;function vS(){if(L_)return Td.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Td.exports=_S(),Td.exports}var ES=vS();const Rd=[{id:1,title:"P2P  ",description:"PeerJS    P2P ",path:"games/test-game/index.html",thumbnail:"https://placehold.co/300x200/7928CA/white?text=P2P+Chat",tags:["P2P","Chat"]},{id:2,title:"Neon Runner",description:"Three.js     ",path:"games/runner/index.html",thumbnail:"https://placehold.co/300x200/FF0080/white?text=Neon+Runner",tags:["3D","Runner"]},{id:3,title:" ",description:"P2P   ",path:"games/rummikub/index.html",thumbnail:"https://placehold.co/300x200/f3a000/white?text=Rummikub",tags:["P2P","Board Game"]},{id:4,title:" ",description:"P2P   ",path:"games/ping-pong/index.html",thumbnail:"https://placehold.co/300x200/333/white?text=Ping+Pong",tags:["P2P","2-Player"]}],TS=()=>{};var x_={};const uE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},AS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(V=64)),a.push(i[A],i[S],i[V],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(uE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):AS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new SS;const V=c<<2|p>>4;if(a.push(V),_!==64){const G=p<<4&240|_>>2;if(a.push(G),S!==64){const $=_<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bS=function(s){const t=uE(s);return cE.encodeByteArray(t,!0)},Uc=function(s){return bS(s).replace(/\./g,"")},hE=function(s){try{return cE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wS=()=>RS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof x_>"u")return;const s=x_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&hE(s[1]);return t&&JSON.parse(t)},eh=()=>{try{return TS()||wS()||IS()||CS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fE=s=>eh()?.emulatorHosts?.[s],DS=s=>{const t=fE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},dE=()=>eh()?.config,mE=s=>eh()?.[`_${s}`];class NS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(s){return(await fetch(s,{credentials:"include"})).ok}function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const _l={};function VS(){const s={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?s.emulator.push(t):s.prod.push(t);return s}function MS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let P_=!1;function pE(s,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||_l[s]===t||_l[s]||P_)return;_l[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=VS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{P_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=MS(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ot=i("preprendIcon"),gt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ht=V.element;p(ht),A(Z,et);const qt=_();v(gt,ot),ht.append(gt,$,Z,qt),document.body.appendChild(ht)}c?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function LS(){const s=eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function kS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function BS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const HS="FirebaseError";class nr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=HS,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?GS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new nr(l,p,a)}}function GS(s,t){return s.replace(FS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const FS=/\{\$([^}]+)}/g;function QS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ls(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(k_(c)&&k_(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function k_(s){return s!==null&&typeof s=="object"}function Ml(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function YS(s,t){const i=new KS(s,t);return i.subscribe.bind(i)}class KS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");XS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function wd(){}function tn(s){return s&&s._delegate?s._delegate:s}class xs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ns="[DEFAULT]";class ZS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new NS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($S(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:JS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(s){return s===Ns?void 0:s}function $S(s){return s.instantiationMode==="EAGER"}class WS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ZS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const t1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},e1=Dt.INFO,n1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},i1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=n1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=e1,this._logHandler=i1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const r1=(s,t)=>t.some(i=>s instanceof i);let z_,B_;function s1(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a1(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,kd=new WeakMap,_E=new WeakMap,Id=new WeakMap,cm=new WeakMap;function o1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(jr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&yE.set(i,s)}).catch(()=>{}),cm.set(t,s),t}function l1(s){if(kd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});kd.set(s,t)}let zd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return kd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||_E.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function u1(s){zd=s(zd)}function c1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Cd(this),t,...i);return _E.set(a,t.sort?t.sort():[t]),jr(a)}:a1().includes(s)?function(...t){return s.apply(Cd(this),t),jr(yE.get(this))}:function(...t){return jr(s.apply(Cd(this),t))}}function h1(s){return typeof s=="function"?c1(s):(s instanceof IDBTransaction&&l1(s),r1(s,s1())?new Proxy(s,zd):s)}function jr(s){if(s instanceof IDBRequest)return o1(s);if(Id.has(s))return Id.get(s);const t=h1(s);return t!==s&&(Id.set(s,t),cm.set(t,s)),t}const Cd=s=>cm.get(s);function f1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=jr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(jr(d.result),v.oldVersion,v.newVersion,jr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const d1=["get","getKey","getAll","getAllKeys","count"],m1=["put","add","delete","clear"],Dd=new Map;function j_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=m1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||d1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Dd.set(t,c),c}u1(s=>({...s,get:(t,i,a)=>j_(t,i)||s.get(t,i,a),has:(t,i)=>!!j_(t,i)||s.has(t,i)}));class g1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(p1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function p1(s){return s.getComponent()?.type==="VERSION"}const Bd="@firebase/app",q_="0.14.6";const $i=new um("@firebase/app"),y1="@firebase/app-compat",_1="@firebase/analytics-compat",v1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",A1="@firebase/auth",S1="@firebase/auth-compat",b1="@firebase/database",R1="@firebase/data-connect",w1="@firebase/database-compat",I1="@firebase/functions",C1="@firebase/functions-compat",D1="@firebase/installations",N1="@firebase/installations-compat",O1="@firebase/messaging",V1="@firebase/messaging-compat",M1="@firebase/performance",U1="@firebase/performance-compat",L1="@firebase/remote-config",x1="@firebase/remote-config-compat",P1="@firebase/storage",k1="@firebase/storage-compat",z1="@firebase/firestore",B1="@firebase/ai",j1="@firebase/firestore-compat",q1="firebase",H1="12.6.0";const jd="[DEFAULT]",G1={[Bd]:"fire-core",[y1]:"fire-core-compat",[v1]:"fire-analytics",[_1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[A1]:"fire-auth",[S1]:"fire-auth-compat",[b1]:"fire-rtdb",[R1]:"fire-data-connect",[w1]:"fire-rtdb-compat",[I1]:"fire-fn",[C1]:"fire-fn-compat",[D1]:"fire-iid",[N1]:"fire-iid-compat",[O1]:"fire-fcm",[V1]:"fire-fcm-compat",[M1]:"fire-perf",[U1]:"fire-perf-compat",[L1]:"fire-rc",[x1]:"fire-rc-compat",[P1]:"fire-gcs",[k1]:"fire-gcs-compat",[z1]:"fire-fst",[j1]:"fire-fst-compat",[B1]:"fire-vertex","fire-js":"fire-js",[q1]:"fire-js-all"};const Lc=new Map,F1=new Map,qd=new Map;function H_(s,t){try{s.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Fa(s){const t=s.name;if(qd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,s);for(const i of Lc.values())H_(i,s);for(const i of F1.values())H_(i,s);return!0}function hm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Yn(s){return s==null?!1:s.settings!==void 0}const Q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Vl("app","Firebase",Q1);class Y1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const eo=H1;function vE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=dE()),!i)throw qr.create("no-options");const c=Lc.get(l);if(c){if(Ls(i,c.options)&&Ls(a,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new WS(l);for(const v of qd.values())d.addComponent(v);const p=new Y1(i,a,d);return Lc.set(l,p),p}function EE(s=jd){const t=Lc.get(s);if(!t&&s===jd&&dE())return vE();if(!t)throw qr.create("no-app",{appName:s});return t}function Hr(s,t,i){let a=G1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Fa(new xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const K1="firebase-heartbeat-database",X1=1,bl="firebase-heartbeat-store";let Nd=null;function TE(){return Nd||(Nd=f1(K1,X1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw qr.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function Z1(s){try{const i=(await TE()).transaction(bl),a=await i.objectStore(bl).get(AE(s));return await i.done,a}catch(t){if(t instanceof nr)$i.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function G_(s,t){try{const a=(await TE()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,AE(s)),await a.done}catch(i){if(i instanceof nr)$i.warn(i.message);else{const a=qr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function AE(s){return`${s.name}!${s.options.appId}`}const J1=1024,$1=30;class W1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>$1){const l=nb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F_(),{heartbeatsToSend:i,unsentEntries:a}=tb(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function F_(){return new Date().toISOString().substring(0,10)}function tb(s,t=J1){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class eb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Q_(s){return Uc(JSON.stringify({version:2,heartbeats:s})).length}function nb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function ib(s){Fa(new xs("platform-logger",t=>new g1(t),"PRIVATE")),Fa(new xs("heartbeat",t=>new W1(t),"PRIVATE")),Hr(Bd,q_,s),Hr(Bd,q_,"esm2020"),Hr("fire-js","")}ib("");var rb="firebase",sb="12.6.0";Hr(rb,sb,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ab=SE,bE=new Vl("auth","Firebase",SE());const xc=new um("@firebase/auth");function ob(s,...t){xc.logLevel<=Dt.WARN&&xc.warn(`Auth (${eo}): ${s}`,...t)}function bc(s,...t){xc.logLevel<=Dt.ERROR&&xc.error(`Auth (${eo}): ${s}`,...t)}function wi(s,...t){throw dm(s,...t)}function Zn(s,...t){return dm(s,...t)}function fm(s,t,i){const a={...ab(),[t]:i};return new Vl("auth","Firebase",a).create(t,{appName:s.name})}function Ms(s){return fm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lb(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&wi(s,"argument-error"),fm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return bE.create(s,...t)}function pt(s,t,...i){if(!s)throw dm(t,...i)}function Ki(s){const t="INTERNAL ASSERTION FAILED: "+s;throw bc(t),new Error(t)}function Wi(s,t){s||Ki(t)}function Hd(){return typeof self<"u"&&self.location?.href||""}function ub(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||PS()||"connection"in navigator)?navigator.onLine:!0}function hb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=US()||kS()}get(){return cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class RE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new Ul(3e4,6e4);function gm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function js(s,t,i,a,l={}){return wE(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ml({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...c};return xS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&to(s.emulatorConfig.host)&&(_.credentials="include"),RE.fetch()(await IE(s,s.config.apiHost,i,p),_)})}async function wE(s,t,i){s._canInitEmulator=!1;const a={...fb,...t};try{const l=new pb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw yc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw yc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw fm(s,A,_);wi(s,A)}}catch(l){if(l instanceof nr)throw l;wi(s,"network-request-failed",{message:String(l)})}}async function gb(s,t,i,a,l={}){const c=await js(s,t,i,a,l);return"mfaPendingCredential"in c&&wi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function IE(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?mm(s.config,l):`${s.config.apiScheme}://${l}`;return db.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class pb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),mb.get())})}}function yc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zn(s,t,a);return l.customData._tokenResponse=i,l}async function yb(s,t){return js(s,"POST","/v1/accounts:delete",t)}async function Pc(s,t){return js(s,"POST","/v1/accounts:lookup",t)}function vl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _b(s,t=!1){const i=tn(s),a=await i.getIdToken(t),l=pm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:vl(Od(l.auth_time)),issuedAtTime:vl(Od(l.iat)),expirationTime:vl(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(s){return Number(s)*1e3}function pm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=hE(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function K_(s){const t=pm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Qa(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof nr&&vb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function vb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Eb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kc(s){const t=s.auth,i=await s.getIdToken(),a=await Qa(s,Pc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?CE(l.providerUserInfo):[],d=Ab(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Tb(s){const t=tn(s);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ab(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function CE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Sb(s,t){const i=await wE(s,{},async()=>{const a=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await IE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&to(s.emulatorConfig.host)&&(v.credentials="include"),RE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function bb(s,t){return js(s,"POST","/v2/accounts:revokeToken",gm(s,t))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):K_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=K_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Sb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ba;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function xr(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Eb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Qa(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return _b(this,t)}reload(){return Tb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Qa(this,yb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:G,providerData:$,stsTokenManager:et}=i;pt(S&&et,t,"internal-error");const Z=Ba.fromJSON(this.name,et);pt(typeof S=="string",t,"internal-error"),xr(a,t.name),xr(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof G=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(p,t.name),xr(v,t.name),xr(_,t.name),xr(A,t.name);const ot=new Kn({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return $&&Array.isArray($)&&(ot.providerData=$.map(gt=>({...gt}))),v&&(ot._redirectEventId=v),ot}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const c=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?CE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ba;p.updateFromIdToken(a);const v=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const X_=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=X_.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,X_.set(s,t),t)}class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}DE.type="NONE";const Z_=DE;function Rc(s,t,i){return`firebase:${s}:${t}:${i}`}class ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Pc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ja(Xi(Z_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xi(Z_);const d=Rc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await Pc(t,{idToken:A}).catch(()=>{});if(!V)break;S=await Kn._fromGetAccountInfoResponse(t,V,A)}else S=Kn._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new ja(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ja(c,t,a))}}function J_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ME(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LE(t))return"Blackberry";if(xE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||VE(t))&&!t.includes("edge/"))return"Chrome";if(UE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function NE(s=Ze()){return/firefox\//i.test(s)}function OE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VE(s=Ze()){return/crios\//i.test(s)}function ME(s=Ze()){return/iemobile/i.test(s)}function UE(s=Ze()){return/android/i.test(s)}function LE(s=Ze()){return/blackberry/i.test(s)}function xE(s=Ze()){return/webos/i.test(s)}function ym(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Rb(s=Ze()){return ym(s)&&!!window.navigator?.standalone}function wb(){return zS()&&document.documentMode===10}function PE(s=Ze()){return ym(s)||UE(s)||xE(s)||LE(s)||/windows phone/i.test(s)||ME(s)}function kE(s,t=[]){let i;switch(s){case"Browser":i=J_(Ze());break;case"Worker":i=`${J_(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class Ib{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Cb(s,t={}){return js(s,"GET","/v2/passwordPolicy",gm(s,t))}const Db=6;class Nb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Db,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ob{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new Ib(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Pc(this,{idToken:t}),a=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Ms(this));const i=t?tn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Cb(this),i=new Nb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await bb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ob(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(s){return tn(s)}class $_{constructor(t){this.auth=t,this.observer=null,this.addObserver=YS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vb(s){_m=s}function Mb(s){return _m.loadJS(s)}function Ub(){return _m.gapiScript}function Lb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function xb(s,t){const i=hm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;wi(l,"already-initialized")}return i.initialize({options:t})}function Pb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function kb(s,t,i){const a=nh(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=zE(t),{host:d,port:p}=zb(t),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ls(_,a.config.emulator)&&Ls(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,to(d)?(gE(`${c}//${d}${v}`),pE("Auth",!0)):Bb()}function zE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function zb(s){const t=zE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:W_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:W_(d)}}}function W_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class BE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function qa(s,t){return gb(s,"POST","/v1/accounts:signInWithIdp",gm(s,t))}const jb="http://localhost";class Ps extends BE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ps(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}class vm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ll extends vm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Ll{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Yi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ps._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class kr extends Ll{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class zr extends Ll{constructor(){super("twitter.com")}static credential(t,i){return Ps._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return zr.credential(i,a)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Kn._fromIdTokenResponse(t,a,l),d=tv(a);return new Ya({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=tv(a);return new Ya({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function tv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class zc extends nr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new zc(t,i,a,l)}}function jE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(s,c,t,a):c})}async function qb(s,t,i=!1){const a=await Qa(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ya._forOperation(s,"link",a)}async function Hb(s,t,i=!1){const{auth:a}=s;if(Yn(a.app))return Promise.reject(Ms(a));const l="reauthenticate";try{const c=await Qa(s,jE(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=pm(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),Ya._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&wi(a,"user-mismatch"),c}}async function Gb(s,t,i=!1){if(Yn(s.app))return Promise.reject(Ms(s));const a="signIn",l=await jE(s,a,t),c=await Ya._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Fb(s,t){return js(s,"POST","/v1/accounts:update",t)}async function Qb(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=tn(s),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await Qa(a,Fb(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:v})=>v==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function Yb(s,t,i,a){return tn(s).onIdTokenChanged(t,i,a)}function Kb(s,t,i){return tn(s).beforeAuthStateChanged(t,i)}function Xb(s,t,i,a){return tn(s).onAuthStateChanged(t,i,a)}function Zb(s){return tn(s).signOut()}const Bc="__sak";class qE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jb=1e3,$b=10;class HE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,$b):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}HE.type="LOCAL";const Wb=HE;class GE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}GE.type="SESSION";const FE=GE;function tR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await tR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function Em(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class eR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=Em("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function nR(s){Ti().location.href=s}function QE(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function iR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){return navigator?.serviceWorker?.controller||null}function sR(){return QE()?self:null}const YE="firebaseLocalStorageDb",aR=1,jc="firebaseLocalStorage",KE="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(s,t){return s.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function oR(){const s=indexedDB.deleteDatabase(YE);return new xl(s).toPromise()}function Fd(){const s=indexedDB.open(YE,aR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(jc,{keyPath:KE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(jc)?t(a):(a.close(),await oR(),t(await Fd()))})})}async function ev(s,t,i){const a=rh(s,!0).put({[KE]:t,value:i});return new xl(a).toPromise()}async function lR(s,t){const i=rh(s,!1).get(t),a=await new xl(i).toPromise();return a===void 0?null:a.value}function nv(s,t){const i=rh(s,!0).delete(t);return new xl(i).toPromise()}const uR=800,cR=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>cR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(sR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await ev(t,Bc,"1"),await nv(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ev(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>lR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const hR=XE;new Ul(3e4,6e4);function ZE(s,t){return t?Xi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Tm extends BE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fR(s){return Gb(s.auth,new Tm(s),s.bypassAuthState)}function dR(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Hb(i,new Tm(s),s.bypassAuthState)}async function mR(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),qb(i,new Tm(s),s.bypassAuthState)}class JE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:wi(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gR=new Ul(2e3,1e4);async function pR(s,t,i){if(Yn(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=nh(s);lb(s,t,vm);const l=ZE(a,i);return new Os(a,"signInViaPopup",t,l).executeNotNull()}class Os extends JE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gR.get())};t()}}Os.currentPopupAction=null;const yR="pendingRedirect",wc=new Map;class _R extends JE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const a=await vR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(s,t){const i=AR(t),a=TR(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ER(s,t){wc.set(s._key(),t)}function TR(s){return Xi(s._redirectPersistence)}function AR(s){return Rc(yR,s.config.apiKey,s.name)}async function SR(s,t,i=!1){if(Yn(s.app))return Promise.reject(Ms(s));const a=nh(s),l=ZE(a,t),d=await new _R(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const bR=600*1e3;class RR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!$E(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(t))}saveEventToCache(t){this.cachedEventUids.add(iv(t)),this.lastProcessedEventTime=Date.now()}}function iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function $E({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function wR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(s);default:return!1}}async function IR(s,t={}){return js(s,"GET","/v1/projects",t)}const CR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DR=/^https?/;async function NR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await IR(s);for(const i of t)try{if(OR(i))return}catch{}wi(s,"unauthorized-domain")}function OR(s){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!DR.test(i))return!1;if(CR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const VR=new Ul(3e4,6e4);function rv(){const s=Ti().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function MR(s){return new Promise((t,i)=>{function a(){rv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rv(),i(Zn(s,"network-request-failed"))},timeout:VR.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=Lb("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Zn(s,"network-request-failed"))},Mb(`${Ub()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function UR(s){return Ic=Ic||MR(s),Ic}const LR=new Ul(5e3,15e3),xR="__/auth/iframe",PR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BR(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?mm(t,PR):`https://${s.config.authDomain}/${xR}`,a={apiKey:t.apiKey,appName:s.name,v:eo},l=zR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ml(a).slice(1)}`}async function jR(s){const t=await UR(s),i=Ti().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:BR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},LR.get());function v(){Ti().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,GR=600,FR="_blank",QR="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(s,t,i,a=HR,l=GR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...qR,width:a.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=VE(_)?FR:i),NE(_)&&(t=t||QR,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[G,$])=>`${V}${G}=${$},`,"");if(Rb(_)&&p!=="_self")return KR(t||"",p),new sv(null);const S=window.open(t||"",p,A);pt(S,s,"popup-blocked");try{S.focus()}catch{}return new sv(S)}function KR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const XR="__/auth/handler",ZR="emulator/auth/handler",JR=encodeURIComponent("fac");async function av(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof vm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",QS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Ll){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),_=v?`#${JR}=${encodeURIComponent(v)}`:"";return`${$R(s)}?${Ml(p).slice(1)}${_}`}function $R({config:s}){return s.emulator?mm(s,ZR):`https://${s.authDomain}/${XR}`}const Vd="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await av(t,i,a,Hd(),l);return YR(t,c,Em())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await av(t,i,a,Hd(),l);return nR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await jR(t),a=new RR(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const c=l?.[0]?.[Vd];c!==void 0&&i(!!c),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return PE()||OE()||ym()}}const tw=WR;var ov="@firebase/auth",lv="1.11.1";class ew{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iw(s){Fa(new xs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(s)},_=new Ob(a,l,c,v);return Pb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Fa(new xs("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(a=>new ew(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(ov,lv,nw(s)),Hr(ov,lv,"esm2020")}const rw=300,sw=mE("authIdTokenMaxAge")||rw;let uv=null;const aw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>sw)return;const l=i?.token;uv!==l&&(uv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ow(s=EE()){const t=hm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=xb(s,{popupRedirectResolver:tw,persistence:[hR,Wb,FE]}),a=mE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=aw(c.toString());Kb(i,d,()=>d(i.currentUser)),Yb(i,p=>d(p))}}const l=fE("auth");return l&&kb(i,`http://${l}`),i}function lw(){return document.getElementsByTagName("head")?.[0]??document}Vb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Zn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",lw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iw("Browser");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,WE;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,L){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return b.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],R;R=b+(L^I&(N^L))+M[0]+3614090360&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+M[1]+3905402710&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+M[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+M[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+M[4]+4118548399&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+M[5]+1200080426&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+M[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+M[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+M[8]+1770035416&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+M[9]+2336552879&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+M[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+M[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+M[12]+1804603682&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+M[13]+4254626195&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+M[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+M[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(N^L&(I^N))+M[1]+4129170786&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+M[6]+3225465664&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+M[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+M[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+M[5]+3593408605&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+M[10]+38016083&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+M[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+M[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+M[9]+568446438&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+M[14]+3275163606&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+M[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+M[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+M[13]+2850285829&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+M[2]+4243563512&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+M[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+M[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(I^N^L)+M[5]+4294588738&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+M[8]+2272392833&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+M[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+M[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+M[1]+2763975236&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+M[4]+1272893353&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+M[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+M[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+M[13]+681279174&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+M[0]+3936430074&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+M[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+M[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+M[9]+3654602809&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+M[12]+3873151461&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+M[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+M[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(N^(I|~L))+M[0]+4096336452&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+M[7]+1126891415&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+M[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+M[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+M[12]+1700485571&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+M[3]+2399980690&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+M[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+M[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+M[8]+1873313359&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+M[15]+4264355552&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+M[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+M[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+M[4]+4149444226&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+M[11]+3174756917&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+M[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,M),N=0;break}}else for(;L<b;)if(M[N++]=C[L++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;M&&L==b||(I[N]=L,M=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return Z(_(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+N),b);N<8?(N=_(Math.pow(b,N)),M=M.j(N).add(_(R))):(M=M.j(I),M=M.add(_(R)))}return M}var S=v(0),V=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-Z(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(et(this))return"-"+Z(this).toString(C);const b=_(Math.pow(C,6));var I=this;let M="";for(;;){const N=qt(I,b).g;I=ot(I,N.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,$(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}s.l=function(C){return C=ot(this,C),et(C)?-1:$(C)?0:1};function Z(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}s.abs=function(){return et(this)?Z(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let L=M+(this.i(N)&65535)+(C.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ot(C,b){return C.add(Z(b))}s.j=function(C){if($(this)||$(C))return S;if(et(this))return et(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(et(C))return Z(this.j(Z(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const L=this.i(M)>>>16,R=this.i(M)&65535,ie=C.i(N)>>>16,Ce=C.i(N)&65535;I[2*M+2*N]+=R*Ce,gt(I,2*M+2*N),I[2*M+2*N+1]+=L*Ce,gt(I,2*M+2*N+1),I[2*M+2*N+1]+=R*ie,gt(I,2*M+2*N+1),I[2*M+2*N+2]+=L*ie,gt(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function gt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ht(C,b){this.g=C,this.h=b}function qt(C,b){if($(b))throw Error("division by zero");if($(C))return new ht(S,S);if(et(C))return b=qt(Z(C),b),new ht(Z(b.g),Z(b.h));if(et(b))return b=qt(C,Z(b)),new ht(Z(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=b;M.l(C)<=0;)I=Wt(I),M=Wt(M);var N=Lt(I,1),L=Lt(M,1);for(M=Lt(M,2),I=Lt(I,2);!$(M);){var R=L.add(M);R.l(C)<=0&&(N=N.add(I),L=R),M=Lt(M,1),I=Lt(I,1)}return b=ot(C,N.j(b)),new ht(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(I),R=L.j(b);et(R)||R.l(C)>0;)I-=M,L=_(I),R=L.j(b);$(L)&&(L=V),N=N.add(L),C=ot(C,R)}return new ht(N,C)}s.B=function(C){return qt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Wt(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Lt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let L=0;L<M;L++)N[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,WE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Gr=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tT,ml,eT,Cc,Qd,nT,iT,rT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in y))break t;y=y[x]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,x,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[x].apply(T,J)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const x=arguments[T];var y=typeof x;if(y=y!="object"?y:x?Array.isArray(x)?"array":y:"null",y=="array"||y=="object"&&typeof x.length=="number"){y=u.length||0;const B=x.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=x[J]}else u.push(x)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,y){const T=ht.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new et(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Lt=!1,C=new gt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ot();){try{u.h.call(u.g)}catch(y){Z(y)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,y,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=x,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(y in T)u[y]=T[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,y,T,x){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=St(u,m,T,x);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new W(m,this.src,B,!!T,x),m.fa=y,u.push(m)),m};function yt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],x=Array.prototype.indexOf.call(T,m,void 0),B;(B=x>=0)&&Array.prototype.splice.call(T,x,1),B&&(ft(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function St(u,m,y,T){for(let x=0;x<u.length;++x){const B=u[x];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return x}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,y,T,x){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,x);return null}return y=uo(y),u&&u[Ce]?u.J(m,y,p(T)?!!T.capture:!1,x):Wr(u,m,y,!1,T,x)}function Wr(u,m,y,T,x,B){if(!m)throw Error("Invalid event type");const J=p(x)?!!x.capture:!!x;let Tt=ts(u);if(Tt||(u[Mt]=Tt=new st(u)),y=Tt.add(m,y,T,J,B),y.proxy)return y;if(T=Qs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)L||(x=J),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Qs(){function u(y){return m.call(u.src,u.listener,y)}const m=oo;return u}function Ys(u,m,y,T,x){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ys(u,m[B],y,T,x);else T=p(T)?!!T.capture:!!T,y=uo(y),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=St(m,y,T,x),y>-1&&(ft(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,y,T,x)),(y=u>-1?m[u]:null)&&Ks(y))}function Ks(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])yt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($n(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ts(m))?(yt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ft(u)}}}function $n(u){return u in De?De[u]:De[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Ks(u),u=y.call(T,m)}return u}function ts(u){return u=u[Mt],u instanceof st?u:null}var lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function ge(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ge,M),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Ys(this,u,m,y,T)};function Ne(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var x=m;m=new N(T,u),tt(m,x)}x=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],x=ir(B,T,!0,m)&&x;if(B=m.g=u,x=ir(B,T,!0,m)&&x,x=ir(B,T,!1,m)&&x,y)for(J=0;J<y.length;J++)B=m.g=y[J],x=ir(B,T,!1,m)&&x}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ft(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ir(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Tt=J.listener,he=J.ha||J.src;J.fa&&yt(u.i,J),x=Tt.call(he,T)!==!1&&x}}return x&&!T.defaultPrevented}function Eh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=Eh(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){M.call(this),this.h=u,this.g={}}S(es,M);var co=[];function ho(u){xt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ks(m)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),ho(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,Th=d.JSON.parse,Hl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gl(){}function Fl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}S(Pe,N);function En(){N.call(this,"c")}S(En,N);var ce={},Ql=null;function Xs(){return Ql=Ql||new ge}ce.Ia="serverreachability";function Yl(u){N.call(this,ce.Ia,u)}S(Yl,N);function Wn(u){const m=Xs();Ne(m,new Yl(m))}ce.STAT_EVENT="statevent";function ns(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(ns,N);function pe(u){const m=Xs();Ne(m,new ns(m,u))}ce.Ja="timingevent";function ti(u,m){N.call(this,ce.Ja,u),this.size=m}S(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Ah(u,m,y,T,x,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var he=Tt[zt].split("=");if(he.length>1){const se=he[0];he=he[1];const bn=se.split("_");J=bn.length>=2&&bn[1]=="type"?J+(se+"="+he+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+y+`
`+J})}function Kl(u,m,y,T,x,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+y+`
`+B+" "+J})}function ni(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,y)+(T?" "+T:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return rr(B)}catch{return m}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function ss(){}S(ss,Gl),ss.prototype.g=function(){return new XMLHttpRequest},mo=new ss;function Ci(u){return encodeURIComponent(String(u))}function Xl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Pn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ii(u,m,y){u.M=1,u.A=as(ve(m)),u.u=y,u.R=!0,Zs(u,null)}function Zs(u,m){u.F=Date.now(),ri(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(y.i,"t",T),u.C=0,y=u.j.L,u.h=new kn,u.g=cu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(co[0]=x.toString()),x=co);for(let B=0;B<x.length;B++){const J=re(y,x[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=jn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Tt!=4||he==7||(he==8||zt<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var y=bh(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=Jl(this,y),se==Me){Tt==4&&(this.m=4,pe(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ni(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,se,null),ai(this,se);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,y,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Do(J),J.P=!0,pe(11))}}else ni(this.i,this.l,y,null),ai(this,y);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?au(this.j,this):(this.o=!1,ri(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),Tn(this)}}}catch{}finally{}};function bh(u){if(!Zl(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const T=m.length,x=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(x&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Zl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,Js(u,u.H)}function Js(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(Wn(),pe(17)),hn(this),this.m=2,Tn(this)):Js(this,this.T-u)};function Tn(u){u.j.I==0||u.K||au(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||li(y.h,u))){if(!u.L&&li(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)sa(y),fr(y);else break t;ds(y),pe(18)}}else y.xa=x[1],0<y.xa-y.K&&x[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ei(_(y.Va,y),6e3));oi(y.h)<=1&&y.ta&&(y.ta=void 0)}else mi(y,11)}else if((u.L||y.g==u)&&sa(y),!R(m))for(x=y.Ba.g.parse(m),m=0;m<x.length;m++){let zt=x[m];const se=zt[0];if(!(se<=y.K))if(y.K=se,zt=zt[1],y.I==2)if(zt[0]=="c"){y.M=zt[1],y.ba=zt[2];const bn=zt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const gi=zt[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const qn=zt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Hn=u.g;if(Hn){const ms=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var B=T.h;B.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yo(B,B.h),B.h=null))}if(T.G){const aa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Gt(T.J,T.G,aa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=uu(T,T.L?T.ba:null,T.W),J.L){_o(T.h,J);var Tt=J,he=T.O;he&&(Tt.H=he),Tt.D&&(si(Tt),ri(Tt)),T.g=J}else ru(T);y.i.length>0&&di(y)}else zt[0]!="stop"&&zt[0]!="close"||mi(y,7);else y.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?mi(y,7):Io(y):zt[0]!="noop"&&y.l&&y.l.qa(zt),y.A=0)}}Wn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let x,B=null;T>=0?(x=u[y].substring(0,T),B=u[y].substring(T+1)):x=u[y],m(x,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,Eo(this,nu(u.i)),this.m=u.m):u&&(m=String(u).match($l))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),sr(this,m[4]),this.h=ui(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(os(m,Ws,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(os(m,Ws,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(os(y,y.charAt(0)=="/"?To:Wl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",os(y,tu)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?Ue(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)sr(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var x=m.h.lastIndexOf("/");x!=-1&&(T=m.h.slice(0,x+1)+T)}if(x=T,x==".."||x==".")T="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){T=x.lastIndexOf("/",0)==0,x=x.split("/");const B=[];for(let J=0;J<x.length;){const Tt=x[J++];Tt=="."?T&&J==x.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==x.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=x}return y?m.h=T:y=u.i.toString()!=="",y?Eo(m,nu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new fn(u)}function Ue(u,m,y){u.j=y?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,y){m instanceof or?(u.i=m,ea(u.i,u.l)):(y||(m=os(m,ar)),u.i=new or(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function as(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function os(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,Wl=/[#\?:]/g,To=/[#\?]/g,ar=/[#\?@]/g,tu=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=or.prototype,s.add=function(u,m){nn(this),this.i=null,u=lr(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function eu(u,m){nn(u),m=lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return nn(u),m=lr(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(x){u.call(m,x,T,this)},this)},this)};function So(u,m){nn(u);let y=[];if(typeof m=="string")Ao(u,m)&&(y=y.concat(u.g.get(lr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=lr(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,y){eu(u,m),y.length>0&&(u.i=null,u.g.set(lr(u,m),G(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const x=Ci(y);y=So(this,y);for(let B=0;B<y.length;B++){let J=x;y[B]!==""&&(J+="="+Ci(y[B])),u.push(J)}}return this.i=u.join("&")};function nu(u){const m=new or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const x=T.toLowerCase();T!=x&&(eu(this,T),ta(this,x,y))},u)),u.j=m}function zn(u,m){const y=new xn;if(d.Image){const T=new Image;T.onload=A(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,y,"TestLoadImage: error",!1,m,T),T.onabort=A(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const y=new xn,T=new AbortController,x=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(x),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(y)}catch{}}function ur(){this.g=new Hl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Gl),ci.prototype.g=function(){return new ls(this.i,this.h)};function ls(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ls,ge),s=ls.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):Bn(this),this.readyState==3&&na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cr(this))},s.Na=function(u){this.g&&(this.response=u,cr(this))},s.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return xt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function us(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Sn(y),typeof u=="string"?y!=null&&Ci(y):Gt(u,m,y))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ge);var hi=/^https?$/i,Ro=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){cs(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)y.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){cs(this,B)}};function cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Di(u)}function wo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},s.Xa=function(){hs(this)};function hs(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match($l)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!hi.test(J?J.toLowerCase():"")}y=T}if(y)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var x=jn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",wo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ne(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Th(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Xl(u[T]);const x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[x]||[];m[x]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function hr(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=uu(this,null,this.W),di(this)};function Io(u){if(ia(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),fs(u,y),m=new Pn(u,u.j,m),m.M=2,m.A=as(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}lu(u)}function fr(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ia(u){fr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Lt||(Wt(),Lt=!0),C.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),ou(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(x.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=iu(this,x,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),fs(this,y),B&&(this.R?m="headers="+Ci(Sn(B))+"&"+m:this.u&&us(y,this.u,B)),yo(this.h,x),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),x.U=!0,ii(x,y,null)):ii(x,y,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||po(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),fs(u,T),u.u&&u.o&&us(T,u.u,u.o),y=new Pn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,y),ii(y,T,m)}function fs(u,m){u.H&&xt(u.H,function(y,T){Gt(m,T,y)}),u.l&&xt({},function(y,T){Gt(m,T,y)})}function iu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var x=u.i;let Tt=-1;for(;;){const he=["count="+y];Tt==-1?y>0?(Tt=x[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let zt=!0;for(let se=0;se<y;se++){var B=x[se].g;const bn=x[se].map;if(B-=Tt,B<0)Tt=Math.max(0,x[se].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[gi,qn]of J){let Hn=qn;p(qn)&&(Hn=rr(qn)),he.push(B+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(bn)}}if(zt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Lt||(Wt(),Lt=!0),C.add(m,u),u.A=0}}function ds(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),ou(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),fr(this),su(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),fs(u,m),u.u&&u.o&&us(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=as(ve(m)),y.u=null,y.R=!0,Zs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,fr(this),ds(this),pe(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var y=null;if(u.g==m){sa(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))y=m.G,_o(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;T=Xs(),Ne(T,new ti(T,y)),di(u)}else ru(u);else if(x=m.m,x==3||x==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&ds(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),x){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function ou(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const x=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),as(T),x?zn(T.toString(),y):bo(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),lu(u),ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function uu(u,m,y){var T=y instanceof fn?ve(y):new fn(y);if(T.g!="")m&&(T.g=m+"."+T.g),sr(T,T.u);else{var x=d.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),x&&sr(B,x),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),fs(u,T),T}function cu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:y})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}s=hu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function dr(){}dr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ge.call(this),this.g=new hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S($e,ge),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Io(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=rr(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,$e.Z.N.call(this)};function fu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(fu,Pe);function du(){En.call(this),this.status=1}S(du,En);function Oi(u){this.g=u}S(Oi,hu),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new fu(u))},Oi.prototype.pa=function(u){Ne(this.g,new du)},Oi.prototype.oa=function(){Ne(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,rT=function(){return new dr},iT=function(){return Xs()},nT=ce,Qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Cc=rs,fo.COMPLETE="complete",eT=fo,Fl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ge.prototype.listen=ge.prototype.J,ml=Fl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,tT=Yt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",fv="4.9.2";class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let no="12.3.0";const ks=new um("@firebase/firestore");function xa(){return ks.logLevel}function rt(s,...t){if(ks.logLevel<=Dt.DEBUG){const i=t.map(Am);ks.debug(`Firestore (${no}): ${s}`,...i)}}function tr(s,...t){if(ks.logLevel<=Dt.ERROR){const i=t.map(Am);ks.error(`Firestore (${no}): ${s}`,...i)}}function Ka(s,...t){if(ks.logLevel<=Dt.WARN){const i=t.map(Am);ks.warn(`Firestore (${no}): ${s}`,...i)}}function Am(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,sT(s,a,i)}function sT(s,t,i){let a=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw tr(a),new Error(a)}function jt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||sT(t,l,a)}function Et(s,t){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends nr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class aT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class cw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new aT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class fw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(s,t){return s<t?-1:s>t?1:0}function Yd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Md(l)===Md(c)?Nt(l,c):Md(l)?1:-1}return Nt(s.length,t.length)}const pw=55296,yw=57343;function Md(s){const t=s.charCodeAt(0);return t>=pw&&t<=yw}function Xa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const mv="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Yd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class $t extends Ei{construct(t,i,a){return new $t(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new it(Q.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const _w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return _w.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Ge([mv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new it(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct($t.fromString(t))}static fromName(t){return new ct($t.fromString(t).popFirst(5))}static empty(){return new ct($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return $t.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new $t(t.slice()))}}function oT(s,t,i){if(!i)throw new it(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function vw(s,t,i,a){if(t===!0&&a===!0)throw new it(Q.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function gv(s){if(!ct.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function pv(s){if(ct.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function lT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function zs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sh(s);throw new it(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function we(s,t){const i={typeString:s};return t&&(i.value=t),i}function Pl(s,t){if(!lT(s))throw new it(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new it(Q.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*_v);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function Ew(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Qr(l,ct.empty(),t)}function Tw(s){return new Qr(s.readTime,s.key,Rl)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(_t.min(),ct.empty(),Rl)}static max(){return new Qr(_t.max(),ct.empty(),Rl)}}function Aw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Nt(s.largestBatchId,t.largestBatchId))}const Sw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function io(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==Sw)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Rw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(s){return s.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const bm=-1;function oh(s){return s==null}function qc(s){return s===0&&1/s==-1/0}function ww(s){return typeof s=="number"&&Number.isInteger(s)&&!qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const uT="";function Iw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=vv(t)),t=Cw(s.get(i),t);return vv(t)}function Cw(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case uT:i+="";break;default:i+=c}}return i}function vv(s){return s+uT+""}function Ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function qs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function cT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(t){return new Tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hT("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(jt(!!s,39018),typeof s=="string"){let t=0;const i=Dw.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Kr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const fT="server_timestamp",dT="__type__",mT="__previous_value__",gT="__local_write_time__";function Rm(s){return(s?.mapValue?.fields||{})[dT]?.stringValue===fT}function lh(s){const t=s.mapValue.fields[mT];return Rm(t)?lh(t):t}function wl(s){const t=Yr(s.mapValue.fields[gT].timestampValue);return new ne(t.seconds,t.nanos)}class Nw{constructor(t,i,a,l,c,d,p,v,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Hc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}const pT="__type__",Ow="__max__",Ec={mapValue:{}},yT="__vector__",Gc="value";function Xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Rm(s)?4:Mw(s)?9007199254740991:Vw(s)?10:11:mt(28295,{value:s})}function Ii(s,t){if(s===t)return!0;const i=Xr(s);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return wl(s).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),p=Yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Kr(l.bytesValue).isEqual(Kr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Xa(s.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Ev(d)!==Ev(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ii(d[v],p[v])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Cl(s,t){return(s.values||[]).find((i=>Ii(i,t)))!==void 0}function Za(s,t){if(s===t)return 0;const i=Xr(s),a=Xr(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return Av(s.timestampValue,t.timestampValue);case 4:return Av(wl(s),wl(t));case 5:return Yd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Kr(c),v=Kr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Nt(p[_],v[_]);if(A!==0)return A}return Nt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(me(c.latitude),me(d.latitude));return p!==0?p:Nt(me(c.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Sv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[Gc]?.arrayValue,A=v[Gc]?.arrayValue,S=Nt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Sv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ec.mapValue&&d===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(d===Ec.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const V=Yd(v[S],A[S]);if(V!==0)return V;const G=Za(p[v[S]],_[A[S]]);if(G!==0)return G}return Nt(v.length,A.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function Av(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const i=Yr(s),a=Yr(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function Sv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function Ja(s){return Kd(s)}function Kd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Kd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"})(s.mapValue):mt(61005,{value:s})}function Dc(s){switch(Xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(s);return t?16+Dc(t):16;case 5:return 2*s.stringValue.length;case 6:return Kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return qs(a.fields,((c,d)=>{l+=c.length+Dc(d)})),l})(s.mapValue);default:throw mt(13486,{value:s})}}function bv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Xd(s){return!!s&&"integerValue"in s}function wm(s){return!!s&&"arrayValue"in s}function Rv(s){return!!s&&"nullValue"in s}function wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Nc(s){return!!s&&"mapValue"in s}function Vw(s){return(s?.mapValue?.fields||{})[pT]?.stringValue===yT}function El(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return qs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(s.arrayValue.values[i]);return t}return{...s}}function Mw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Ow}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){qs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Mn(El(this.value))}}function _T(s){const t=[];return qs(s.fields,((i,a)=>{const l=new Ge([i]);if(Nc(a)){const c=_T(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Xe{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,_t.min(),_t.min(),_t.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,_t.min(),_t.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,_t.min(),_t.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function Iv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],t.position[i]))return!1;return!0}class Dl{constructor(t,i="asc"){this.field=t,this.dir=i}}function Uw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class vT{}class Re extends vT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new xw(t,i,a):i==="array-contains"?new zw(t,a):i==="in"?new Bw(t,a):i==="not-in"?new jw(t,a):i==="array-contains-any"?new qw(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Pw(t,a):new kw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends vT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Jn(t,i)}matches(t){return ET(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ET(s){return s.op==="and"}function TT(s){return Lw(s)&&ET(s)}function Lw(s){for(const t of s.filters)if(t instanceof Jn)return!1;return!0}function Zd(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(TT(s))return s.filters.map((t=>Zd(t))).join(",");{const t=s.filters.map((i=>Zd(i))).join(",");return`${s.op}(${t})`}}function AT(s,t){return s instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(s,t):s instanceof Jn?(function(a,l){return l instanceof Jn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&AT(d,l.filters[p])),!0):!1})(s,t):void mt(19439)}function ST(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(ST).join(" ,")+"}"})(s):"Filter"}class xw extends Re{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Pw extends Re{constructor(t,i){super(t,"in",i),this.keys=bT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class kw extends Re{constructor(t,i){super(t,"not-in",i),this.keys=bT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function bT(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class zw extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Cl(i.arrayValue,this.value)}}class Bw extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class jw extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class qw extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class Hw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Dv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Hw(s,t,i,a,l,c,d)}function Im(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Zd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Cm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Uw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!AT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Cv(s.startAt,t.startAt)&&Cv(s.endAt,t.endAt)}function Jd(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class so{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gw(s,t,i,a,l,c,d,p){return new so(s,t,i,a,l,c,d,p)}function Dm(s){return new so(s)}function Nv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RT(s){return s.collectionGroup!==null}function Tl(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Dl(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Dl(Ge.keyField(),a))}return t.Ie}function Ai(s){const t=Et(s);return t.Ee||(t.Ee=Fw(t,Tl(s))),t.Ee}function Fw(s,t){if(s.limitType==="F")return Dv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Dl(l.field,c)}));const i=s.endAt?new Fc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Fc(s.startAt.position,s.startAt.inclusive):null;return Dv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function $d(s,t){const i=s.filters.concat([t]);return new so(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Qc(s,t,i){return new so(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function uh(s,t){return Cm(Ai(s),Ai(t))&&s.limitType===t.limitType}function wT(s){return`${Im(Ai(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>ST(l))).join(", ")}]`),oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function ch(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Tl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=Iv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Tl(a),l)||a.endAt&&!(function(d,p,v){const _=Iv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Tl(a),l))})(s,t)}function Qw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function IT(s){return(t,i)=>{let a=!1;for(const l of Tl(s)){const c=Yw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Yw(s,t,i){const a=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?Za(v,_):mt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:s.dir})}}class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}const Kw=new oe(ct.comparator);function er(){return Kw}const CT=new oe(ct.comparator);function gl(...s){let t=CT;for(const i of s)t=t.insert(i.key,i);return t}function DT(s){let t=CT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vs(){return Al()}function NT(){return Al()}function Al(){return new Hs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Xw=new oe(ct.comparator),Zw=new Ve(ct.comparator);function Ot(...s){let t=Zw;for(const i of s)t=t.add(i);return t}const Jw=new Ve(Nt);function $w(){return Jw}function Nm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function OT(s){return{integerValue:""+s}}function Ww(s,t){return ww(t)?OT(t):Nm(s,t)}class hh{constructor(){this._=void 0}}function tI(s,t,i){return s instanceof Yc?(function(l,c){const d={fields:{[dT]:{stringValue:fT},[gT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rm(c)&&(c=lh(c)),c&&(d.fields[mT]=c),{mapValue:d}})(i,t):s instanceof Nl?MT(s,t):s instanceof Ol?UT(s,t):(function(l,c){const d=VT(l,c),p=Ov(d)+Ov(l.Ae);return Xd(d)&&Xd(l.Ae)?OT(p):Nm(l.serializer,p)})(s,t)}function eI(s,t,i){return s instanceof Nl?MT(s,t):s instanceof Ol?UT(s,t):i}function VT(s,t){return s instanceof Kc?(function(a){return Xd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Yc extends hh{}class Nl extends hh{constructor(t){super(),this.elements=t}}function MT(s,t){const i=LT(t);for(const a of s.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ol extends hh{constructor(t){super(),this.elements=t}}function UT(s,t){let i=LT(t);for(const a of s.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(s){return me(s.integerValue||s.doubleValue)}function LT(s){return wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Nl&&l instanceof Nl||a instanceof Ol&&l instanceof Ol?Xa(a.elements,l.elements,Ii):a instanceof Kc&&l instanceof Kc?Ii(a.Ae,l.Ae):a instanceof Yc&&l instanceof Yc})(s.transform,t.transform)}class iI{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class fh{}function xT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new kT(s.key,Ji.none()):new kl(s.key,s.data,Ji.none());{const i=s.data,a=Mn.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gs(s.key,a,new Xn(l.toArray()),Ji.none())}}function rI(s,t,i){s instanceof kl?(function(l,c,d){const p=l.value.clone(),v=Mv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Gs?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Mv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(PT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(s,t,i,a){return s instanceof kl?(function(c,d,p,v){if(!Oc(c.precondition,d))return p;const _=c.value.clone(),A=Uv(c.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Gs?(function(c,d,p,v){if(!Oc(c.precondition,d))return p;const _=Uv(c.fieldTransforms,v,d),A=d.data;return A.setAll(PT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function sI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=VT(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function Vv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((c,d)=>nI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class kl extends fh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gs extends fh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Mv(s,t,i){const a=new Map;jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,eI(d,p,i[l]))}return a}function Uv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,tI(c,d,t))}return a}class kT extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&rI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=NT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=xT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Vv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Vv(i,a)))}}class Om{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Xw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Om(t,i,a,l)}}class lI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Ut;function cI(s){switch(s){case Q.OK:return mt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function zT(s){if(s===void 0)return tr("GRPC error has no .code"),Q.UNKNOWN;switch(s){case be.OK:return Q.OK;case be.CANCELLED:return Q.CANCELLED;case be.UNKNOWN:return Q.UNKNOWN;case be.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case be.INTERNAL:return Q.INTERNAL;case be.UNAVAILABLE:return Q.UNAVAILABLE;case be.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case be.NOT_FOUND:return Q.NOT_FOUND;case be.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case be.ABORTED:return Q.ABORTED;case be.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case be.DATA_LOSS:return Q.DATA_LOSS;default:return mt(39323,{code:s})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function hI(){return new TextEncoder}const fI=new Gr([4294967295,4294967295],0);function Lv(s){const t=hI().encode(s),i=new WE;return i.update(t),new Uint8Array(i.digest())}function xv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,a],0),new Gr([l,c],0)]}class Vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(a<0)throw new pl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gr.fromNumber(a)));return l.compare(fI)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Lv(t),[a,l]=xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Vm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Lv(t),[a,l]=xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new dh(_t.min(),l,new oe(Nt),er(),Ot())}}class zl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new zl(a,i,Ot(),Ot(),Ot())}}class Vc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class BT{constructor(t,i){this.targetId=t,this.Ce=i}}class jT{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Pv{constructor(){this.ve=0,this.Fe=kv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new zl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=kv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dI{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.Je=Tc(),this.He=Tc(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jd(c))if(a===0){const d=new ct(c.path);this.et(i,d,Xe.newNoDocument(d,_t.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Kr(a).toUint8Array()}catch(v){if(v instanceof hT)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Vm(d,l,c)}catch(v){return Ka(v instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Jd(p.target)){const v=new ct(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,a);return this.je=er(),this.Je=Tc(),this.He=Tc(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Tc(){return new oe(ct.comparator)}function kv(){return new oe(ct.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class yI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(s,t){return s.useProto3Json||oh(t)?t:{value:t}}function Xc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function _I(s,t){return Xc(s,t.toTimestamp())}function Si(s){return jt(!!s,49232),_t.fromTimestamp((function(i){const a=Yr(i);return new ne(a.seconds,a.nanos)})(s))}function Mm(s,t){return tm(s,t).canonicalString()}function tm(s,t){const i=(function(l){return new $t(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function HT(s){const t=$t.fromString(s);return jt(KT(t),10190,{key:t.toString()}),t}function em(s,t){return Mm(s.databaseId,t.path)}function Ud(s,t){const i=HT(t);if(i.get(1)!==s.databaseId.projectId)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(FT(i))}function GT(s,t){return Mm(s.databaseId,t)}function vI(s){const t=HT(s);return t.length===4?$t.emptyPath():FT(t)}function nm(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function FT(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function zv(s,t,i){return{name:em(s,t),fields:i.value.mapValue.fields}}function EI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Q.UNKNOWN:zT(_.code);return new it(A,_.message||"")})(d);i=new jT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(s,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):_t.min(),p=new Mn({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Vc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ud(s,a.document),c=a.readTime?Si(a.readTime):_t.min(),d=Xe.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ud(s,a.document),c=a.removedTargetIds||[];i=new Vc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new uI(l,c),p=a.targetId;i=new BT(p,d)}}return i}function TI(s,t){let i;if(t instanceof kl)i={update:zv(s,t.key,t.value)};else if(t instanceof kT)i={delete:em(s,t.key)};else if(t instanceof Gs)i={update:zv(s,t.key,t.data),updateMask:NI(t.fieldMask)};else{if(!(t instanceof aI))return mt(16599,{Vt:t.type});i={verify:em(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_I(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(s,t.precondition)),i}function AI(s,t){return s&&s.length>0?(jt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new iI(d,l.transformResults||[])})(i,t)))):[]}function SI(s,t){return{documents:[GT(s,t.path)]}}function bI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=GT(s,l);const c=(function(_){if(_.length!==0)return YT(Jn.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ka(V.field),direction:II(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Wd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function RI(s){let t=vI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=QT(S);return V instanceof Jn&&TT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function($){return new Dl(za($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,oh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(S){const V=!!S.before,G=S.values||[];return new Fc(G,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,G=S.values||[];return new Fc(G,V)})(i.endAt)),Gw(t,l,d,c,p,"F",v,_)}function wI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function QT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>QT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function II(s){return mI[s]}function CI(s){return gI[s]}function DI(s){return pI[s]}function ka(s){return{fieldPath:s.canonicalString()}}function za(s){return Ge.fromServerFormat(s.fieldPath)}function YT(s){return s instanceof Re?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:CI(i.op),value:i.value}}})(s):s instanceof Jn?(function(i){const a=i.getFilters().map((l=>YT(l)));return a.length===1?a[0]:{compositeFilter:{op:DI(i.op),filters:a}}})(s):mt(54877,{filter:s})}function NI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function KT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Br{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class OI{constructor(t){this.yt=t}}function VI(s){const t=RI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qc(t,t.limit,"L"):t}class MI{constructor(){this.Cn=new UI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class UI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve($t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve($t.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(XT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}const jv="LruGarbageCollector",LI=1048576;function qv([s,t],[i,a]){const l=Nt(s,i);return l===0?Nt(t,a):l}class xI{constructor(t){this.Ir=t,this.buffer=new Ve(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?rt(jv,"Ignoring IndexedDB error during garbage collection: ",i):await io(i)}await this.Vr(3e5)}))}}class kI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ah.ce);const a=new xI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),xa()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function zI(s,t){return new kI(s,t)}class BI{constructor(){this.changes=new Hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class qI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Sl(a.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Vs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=gl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=er();const d=Al(),p=(function(){return Al()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Gs)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Sl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new jI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Xn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const S=(l.get(p.batchId)||Ot()).add(v);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,S=NT();A.forEach((V=>{if(!c.has(V)){const G=xT(i.get(V),a.get(V));G!==null&&S.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):RT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Vs());let p=Rl,v=c;return d.next((_=>X.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,v,_,Ot()))).next((A=>({batchId:p,changes:DT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=gl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const _=(function(S,V){return new so(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=gl();return d.forEach(((v,_)=>{const A=c.get(v);A!==void 0&&Sl(A.mutation,_,Xn.empty(),ne.now()),ch(i,_)&&(p=p.insert(v,_))})),p}))}}class HI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:VI(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class GI{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Vs(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Vs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Vs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new lI(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class FI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Um{constructor(){this.Qr=new Ve(xe.$r),this.Ur=new Ve(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new $t([])),a=new xe(i,t),l=new xe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new $t([])),a=new xe(i,t),l=new xe(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class QI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(xe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new xe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new xe(new ct(c),0);let p=new Ve(Nt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new xe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new xe(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class YI{constructor(t){this.ri=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=er();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Aw(Tw(A),a)<=0||(l.has(A.key)||ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new KI(this)}getSize(t){return X.resolve(this.size)}}class KI extends BI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class XI{constructor(t){this.persistence=t,this.si=new Hs((i=>Im(i)),Cm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Um,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class ZT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new FI,this.referenceDelegate=t(this),this.Pi=new XI(this),this.indexManager=new MI,this.remoteDocumentCache=(function(l){return new YI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new OI(i),this.Ii=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new GI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new QI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new ZI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class ZI extends bw{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ri=new Um,this.Vi=null}static mi(t){return new Lm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ct.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Hs((a=>Iw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=zI(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new xm(t,i.fromCache,a,l)}}class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BS()?8:Rw(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new JI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(xa()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(xa()<=Dt.DEBUG&&rt("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(xa()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(Nv(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qc(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(t,Qc(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,a,l){return Nv(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(xa()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,Ew(l,Rl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(IT(t));return i.forEach(((l,c)=>{ch(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return xa()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Qr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Pm="LocalStore",WI=3e8;class tC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new Hs((c=>Im(c)),Cm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function eC(s,t,i,a){return new tC(s,t,i,a)}async function JT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function nC(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const S=_.batch,V=S.keys();let G=X.resolve();return V.forEach(($=>{G=G.next((()=>A.getEntry(v,$))).next((et=>{const Z=_.docVersions.get($);jt(Z!==null,48541),et.version.compareTo(Z)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function $T(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function iC(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Fe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(S,G),(function(et,Z,ot){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=WI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(V,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let v=er(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(rC(c,d,t.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function rC(s,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=er();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):rt(Pm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function sC(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function aC(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function im(s,t,i){const a=Et(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;rt(Pm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Hv(s,t,i){const a=Et(s);let l=_t.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=Et(v),V=S.xs.get(A);return V!==void 0?X.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(a,d,Ai(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((p=>(oC(a,Qw(t),p),{documents:p,Qs:c})))))}function oC(s,t,i){let a=s.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class Gv{constructor(){this.activeTargetIds=$w()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lC{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class uC{Oo(t){}shutdown(){}}const Fv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ac=null;function rm(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}const Ld="RestConnection",cC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Hc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=rm(),p=this.zo(t,i.toUriEncodedString());rt(Ld,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:_}=new URL(p),A=to(_);return this.Jo(t,p,v,a,A).then((S=>(rt(Ld,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ka(Ld,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=cC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class fC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class dC extends hC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=rm();return new Promise(((p,v)=>{const _=new tT;_.setWithCredentials(!0),_.listenOnce(eT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const S=_.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Cc.TIMEOUT:rt(Ye,`RPC '${t}' ${d} timed out`),v(new it(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const V=_.getStatus();if(rt(Ye,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const et=(function(ot){const gt=ot.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(gt)>=0?gt:Q.UNKNOWN})($.status);v(new it(et,$.message))}else v(new it(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(Q.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=rT(),p=iT(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let V=!1,G=!1;const $=new fC({Yo:Z=>{G?rt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(rt(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),rt(Ye,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),et=(Z,ot,gt)=>{Z.listen(ot,(ht=>{try{gt(ht)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return et(S,ml.EventType.OPEN,(()=>{G||(rt(Ye,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),et(S,ml.EventType.CLOSE,(()=>{G||(G=!0,rt(Ye,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(S))})),et(S,ml.EventType.ERROR,(Z=>{G||(G=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new it(Q.UNAVAILABLE,"The operation could not be completed")))})),et(S,ml.EventType.MESSAGE,(Z=>{if(!G){const ot=Z.data[0];jt(!!ot,16349);const gt=ot,ht=gt?.error||gt[0]?.error;if(ht){rt(Ye,`RPC '${t}' stream ${l} received error:`,ht);const qt=ht.status;let Wt=(function(b){const I=be[b];if(I!==void 0)return zT(I)})(qt),Lt=ht.message;Wt===void 0&&(Wt=Q.INTERNAL,Lt="Unknown error status: "+qt+" with message "+ht.message),G=!0,$.a_(new it(Wt,Lt)),S.close()}else rt(Ye,`RPC '${t}' stream ${l} received:`,ot),$.u_(ot)}})),et(p,nT.STAT_EVENT,(Z=>{Z.stat===Qd.PROXY?rt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Qd.NOPROXY&&rt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function xd(){return typeof document<"u"?document:null}function mh(s){return new yI(s,!0)}class WT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Yv="PersistentStream";class t0{constructor(t,i,a,l,c,d,p,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new it(Q.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mC extends t0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=EI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=nm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=Jd(v)?{documents:SI(c,v)}:{query:bI(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qT(c,d.resumeToken);const _=Wd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const _=Wd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=wI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.q_(i)}}class gC extends t0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=AI(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>TI(this.serializer,a)))};this.q_(i)}}class pC{}class yC extends pC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,tm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Q.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,tm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _C{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class vC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(rt(Bs,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await Bl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gh(_)})(this))}))})),this.Ra=new _C(a,l)}}async function gh(s){if(Fs(s))for(const t of s.da)await t(!0)}async function Bl(s){for(const t of s.da)await t(!1)}function e0(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?Bm(i):ao(i).O_()&&zm(i,t))}function km(s,t){const i=Et(s),a=ao(i);i.Ia.delete(t),a.O_()&&n0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fs(i)&&i.Ra.set("Unknown"))}function zm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(s).Y_(t)}function n0(s,t){s.Va.Ue(t),ao(s).Z_(t)}function Bm(s){s.Va=new dI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ao(s).start(),s.Ra.ua()}function jm(s){return Fs(s)&&!ao(s).x_()&&s.Ia.size>0}function Fs(s){return Et(s).Ea.size===0}function i0(s){s.Va=void 0}async function EC(s){s.Ra.set("Online")}async function TC(s){s.Ia.forEach(((t,i)=>{zm(s,t)}))}async function AC(s,t){i0(s),jm(s)?(s.Ra.ha(t),Bm(s)):s.Ra.set("Unknown")}async function SC(s,t,i){if(s.Ra.set("Online"),t instanceof jT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){rt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(s,a)}else if(t instanceof Vc?s.Va.Ze(t):t instanceof BT?s.Va.st(t):s.Va.tt(t),!i.isEqual(_t.min()))try{const a=await $T(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),n0(c,v);const S=new Br(A.target,v,_,A.sequenceNumber);zm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(Bs,"Failed to raise snapshot:",a),await Jc(s,a)}}async function Jc(s,t,i){if(!ro(t))throw t;s.Ea.add(1),await Bl(s),s.Ra.set("Offline"),i||(i=()=>$T(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await gh(s)}))}function r0(s,t){return t().catch((i=>Jc(s,i,t)))}async function ph(s){const t=Et(s),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;bC(t);)try{const l=await sC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,RC(t,l)}catch(l){await Jc(t,l)}s0(t)&&a0(t)}function bC(s){return Fs(s)&&s.Ta.length<10}function RC(s,t){s.Ta.push(t);const i=Zr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function s0(s){return Fs(s)&&!Zr(s).x_()&&s.Ta.length>0}function a0(s){Zr(s).start()}async function wC(s){Zr(s).ra()}async function IC(s){const t=Zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function CC(s,t,i){const a=s.Ta.shift(),l=Om.from(a,t,i);await r0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await ph(s)}async function DC(s,t){t&&Zr(s).X_&&await(async function(a,l){if((function(d){return cI(d)&&d!==Q.ABORTED})(l.code)){const c=a.Ta.shift();Zr(a).B_(),await r0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(a)}})(s,t),s0(s)&&a0(s)}async function Kv(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),rt(Bs,"RemoteStore received new credentials");const a=Fs(i);i.Ea.add(3),await Bl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function NC(s,t){const i=Et(s);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function ao(s){return s.ma||(s.ma=(function(i,a,l){const c=Et(i);return c.sa(),new mC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:EC.bind(null,s),t_:TC.bind(null,s),r_:AC.bind(null,s),H_:SC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),jm(s)?Bm(s):s.Ra.set("Unknown")):(await s.ma.stop(),i0(s))}))),s.ma}function Zr(s){return s.fa||(s.fa=(function(i,a,l){const c=Et(i);return c.sa(),new gC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:wC.bind(null,s),r_:DC.bind(null,s),ta:IC.bind(null,s),na:CC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await ph(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(s,t){if(tr("AsyncQueue",`${t}: ${s}`),ro(s))return new it(Q.UNAVAILABLE,`${t}: ${s}`);throw s}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=gl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,l,c,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Wa(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class OC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class VC{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Zv(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new it(Q.ABORTED,"Firestore shutting down"))}}function Zv(){return new Hs((s=>wT(s)),uh)}async function o0(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new OC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Hm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Gm(i)}async function l0(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function MC(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Gm(i)}function UC(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Gm(s){s.Ca.forEach((t=>{t.next()}))}var sm,Jv;(Jv=sm||(sm={})).Ma="default",Jv.Cache="cache";class u0{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}class c0{constructor(t){this.key=t}}class h0{constructor(t){this.key=t}}class LC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=IT(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),G=ch(this.query,S)?S:null,$=!!V&&this.mutatedKeys.has(V.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;V&&G?V.data.isEqual(G.data)?$!==et&&(a.track({type:3,doc:G}),Z=!0):this.su(V,G)||(a.track({type:2,doc:G}),Z=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),Z=!0):V&&!G&&(a.track({type:1,doc:V}),Z=!0,(v||_)&&(p=!0)),Z&&(G?(d=d.add(G),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,$){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return et(G)-et($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new h0(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new c0(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fm="SyncEngine";class xC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class PC{constructor(t){this.key=t,this.hu=!1}}class kC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((p=>wT(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Um,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zC(s,t,i=!0){const a=y0(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await f0(a,t,i,!0),l}async function BC(s,t){const i=y0(s);await f0(i,t,!0,!1)}async function f0(s,t,i,a){const l=await aC(s.localStore,Ai(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await jC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&e0(s.remoteStore,l),p}async function jC(s,t,i,a,l){s.pu=(S,V,G)=>(async function(et,Z,ot,gt){let ht=Z.view.ru(ot);ht.Cs&&(ht=await Hv(et.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,ht))));const qt=gt&&gt.targetChanges.get(Z.targetId),Wt=gt&&gt.targetMismatches.get(Z.targetId)!=null,Lt=Z.view.applyChanges(ht,et.isPrimaryClient,qt,Wt);return Wv(et,Z.targetId,Lt.au),Lt.snapshot})(s,S,V,G);const c=await Hv(s.localStore,t,!0),d=new LC(t,c.Qs),p=d.ru(c.documents),v=zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);Wv(s,i,_.au);const A=new xC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function qC(s,t,i){const a=Et(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await im(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),am(a,l.targetId)})).catch(io)):(am(a,l.targetId),await im(a.localStore,l.targetId,!0))}async function HC(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function GC(s,t,i){const a=JC(s);try{const l=await(function(d,p){const v=Et(d),_=ne.now(),A=p.reduce(((G,$)=>G.add($.key)),Ot());let S,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=er(),et=Ot();return v.Ns.getEntries(G,A).next((Z=>{$=Z,$.forEach(((ot,gt)=>{gt.isValidDocument()||(et=et.add(ot))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((Z=>{S=Z;const ot=[];for(const gt of p){const ht=sI(gt,S.get(gt.key).overlayedDocument);ht!=null&&ot.push(new Gs(gt.key,ht,_T(ht.value.mapValue),Ji.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,ot,p)})).next((Z=>{V=Z;const ot=Z.applyToLocalDocumentSet(S,et);return v.documentOverlayCache.saveOverlays(G,Z.batchId,ot)}))})).then((()=>({batchId:V.batchId,changes:DT(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Nt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await jl(a,l.changes),await ph(a.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function d0(s,t){const i=Et(s);try{const a=await iC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await jl(i,a,t)}catch(a){await io(a)}}function $v(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Et(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&Gm(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function FC(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(ct.comparator);d=d.insert(c,Xe.newNoDocument(c,_t.min()));const p=Ot().add(c),v=new dh(_t.min(),new Map,new oe(Nt),d,p);await d0(a,v),a.du=a.du.remove(c),a.Au.delete(t),Qm(a)}else await im(a.localStore,t,!1).then((()=>am(a,t,i))).catch(io)}async function QC(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await nC(i.localStore,t);g0(i,a,null),m0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jl(i,l)}catch(l){await io(l)}}async function YC(s,t,i){const a=Et(s);try{const l=await(function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((S=>(jt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);g0(a,t,i),m0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jl(a,l)}catch(l){await io(l)}}function m0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function g0(s,t,i){const a=Et(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||p0(s,a)}))}function p0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(km(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Qm(s))}function Wv(s,t,i){for(const a of i)a instanceof c0?(s.Ru.addReference(a.key,t),KC(s,a)):a instanceof h0?(rt(Fm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||p0(s,a.key)):mt(19791,{wu:a})}function KC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(rt(Fm,"New document in limbo: "+i),s.Eu.add(a),Qm(s))}function Qm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct($t.fromString(t)),a=s.fu.next();s.Au.set(a,new PC(i)),s.du=s.du.insert(i,a),e0(s.remoteStore,new Br(Ai(Dm(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function jl(s,t,i){const a=Et(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=xm.As(v.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(V=>X.forEach(V.Es,(G=>A.persistence.referenceDelegate.addReference(S,V.targetId,G))).next((()=>X.forEach(V.ds,(G=>A.persistence.referenceDelegate.removeReference(S,V.targetId,G)))))))))}catch(S){if(!ro(S))throw S;rt(Pm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const G=A.Ms.get(V),$=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(V,et)}}})(a.localStore,c))}async function XC(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){rt(Fm,"User change. New user:",t.toKey());const a=await JT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new it(Q.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jl(i,a.Ls)}}function ZC(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function y0(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=d0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FC.bind(null,t),t.Pu.H_=MC.bind(null,t.eventManager),t.Pu.yu=UC.bind(null,t.eventManager),t}function JC(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YC.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return eC(this.persistence,new $I,t.initialUser,this.serializer)}Cu(t){return new ZT(Lm.mi,this.serializer)}Du(t){return new lC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class $C extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new PI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ZT((a=>Zc.mi(a,i)),this.serializer)}}class om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=XC.bind(null,this.syncEngine),await NC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new VC})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),a=(function(c){return new dC(c)})(t.databaseInfo);return(function(c,d,p,v){return new yC(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new vC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new uC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,_,A){const S=new kC(l,c,d,p,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);rt(Bs,"RemoteStore shutting down."),a.Ea.add(5),await Bl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};class _0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Jr="FirestoreClient";class WC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(Jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Pd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(Jr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await JT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function tE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await t2(s);rt(Jr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Kv(t.remoteStore,l))),s._onlineComponents=t}async function t2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Jr,"Using user provided OfflineComponentProvider");try{await Pd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Pd(s,new $c)}}else rt(Jr,"Using default OfflineComponentProvider"),await Pd(s,new $C(void 0));return s._offlineComponents}async function v0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Jr,"Using user provided OnlineComponentProvider"),await tE(s,s._uninitializedComponentsProvider._online)):(rt(Jr,"Using default OnlineComponentProvider"),await tE(s,new om))),s._onlineComponents}function e2(s){return v0(s).then((t=>t.syncEngine))}async function E0(s){const t=await v0(s),i=t.eventManager;return i.onListen=zC.bind(null,t.syncEngine),i.onUnlisten=qC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=BC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=HC.bind(null,t.syncEngine),i}function n2(s,t,i={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,_){const A=new _0({next:V=>{A.Nu(),d.enqueueAndForget((()=>l0(c,S)));const G=V.docs.has(p);!G&&V.fromCache?_.reject(new it(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&V.fromCache&&v&&v.source==="server"?_.reject(new it(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new u0(Dm(p.path),A,{includeMetadataChanges:!0,qa:!0});return o0(c,S)})(await E0(s),s.asyncQueue,t,i,a))),a.promise}function i2(s,t,i={}){const a=new Zi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,_){const A=new _0({next:V=>{A.Nu(),d.enqueueAndForget((()=>l0(c,S))),V.fromCache&&v.source==="server"?_.reject(new it(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new u0(p,A,{includeMetadataChanges:!0,qa:!0});return o0(c,S)})(await E0(s),s.asyncQueue,t,i,a))),a.promise}function T0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const eE=new Map;const A0="firestore.googleapis.com",nE=!0;class iE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=nE}else this.host=t.host,this.ssl=t.ssl??nE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<LI)throw new it(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uw;switch(a.type){case"firstParty":return new dw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=eE.get(i);a&&(rt("ComponentProvider","Removing Datastore"),eE.delete(i),a.terminate())})(this),Promise.resolve()}}function r2(s,t,i,a={}){s=zs(s,yh);const l=to(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(gE(`https://${p}`),pE("Firestore",!0)),c.host!==A0&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Ls(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ke.MOCK_USER;else{_=OS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new it(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(S)}s._authCredentials=new cw(new aT(_,A))}}class $r{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new $r(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Ie._jsonSchema))return new Ie(t,a||null,new ct($t.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:we("string",Ie._jsonSchemaVersion),referencePath:we("string")};class Fr extends $r{constructor(t,i,a){super(t,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ct(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function s2(s,t,...i){if(s=tn(s),oT("collection","path",t),s instanceof yh){const a=$t.fromString(t,...i);return pv(a),new Fr(s,null,a)}{if(!(s instanceof Ie||s instanceof Fr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(t,...i));return pv(a),new Fr(s.firestore,null,a)}}function Ym(s,t,...i){if(s=tn(s),arguments.length===1&&(t=Sm.newId()),oT("doc","path",t),s instanceof yh){const a=$t.fromString(t,...i);return gv(a),new Ie(s,null,new ct(a))}{if(!(s instanceof Ie||s instanceof Fr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(t,...i));return gv(a),new Ie(s.firestore,s instanceof Fr?s.converter:null,new ct(a))}}const rE="AsyncQueue";class sE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const a=xd();a&&rt(rE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;rt(rE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",aE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:aE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function aE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class _h extends yh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new sE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sE(t),this._firestoreClient=void 0,await t}}}function a2(s,t){const i=typeof s=="object"?s:EE(),a=typeof s=="string"?s:Hc,l=hm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=DS("firestore");c&&r2(l,...c)}return l}function Km(s){if(s._terminated)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||o2(s),s._firestoreClient}function o2(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new Nw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,T0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new WC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Fe.fromBase64String(t))}catch(i){throw new it(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:we("string",Un._jsonSchemaVersion),bytes:we("string")};class Xm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class S0{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new it(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:we("string",Ri._jsonSchemaVersion),vectorValues:we("object")};const l2=/^__.*__$/;class u2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function b0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class Zm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(b0(this.Ac)&&l2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class c2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||mh(t)}Cc(t,i,a,l=!1){return new Zm({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R0(s){const t=s._freezeSettings(),i=mh(s._databaseId);return new c2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function h2(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);C0("Data must be an object, but it was:",d,a);const p=w0(a,d);let v,_;if(c.merge)v=new Xn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=d2(t,S,i);if(!d.contains(V))throw new it(Q.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);g2(A,V)||A.push(V)}v=new Xn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new u2(new Mn(p),v,_)}function f2(s,t,i,a=!1){return Jm(i,s.Cc(a?4:3,t))}function Jm(s,t){if(I0(s=tn(s)))return C0("Unsupported field value:",t,s),w0(s,t);if(s instanceof S0)return(function(a,l){if(!b0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Jm(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ww(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:qT(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[pT]:{stringValue:yT},[Gc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Nm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${sh(a)}`)})(s,t)}function w0(s,t){const i={};return cT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(s,((a,l)=>{const c=Jm(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function I0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof bi||s instanceof Un||s instanceof Ie||s instanceof S0||s instanceof Ri)}function C0(s,t,i){if(!I0(i)||!lT(i)){const a=sh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function d2(s,t,i){if((t=tn(t))instanceof Xm)return t._internalPath;if(typeof t=="string")return D0(s,t);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const m2=new RegExp("[~\\*/\\[\\]]");function D0(s,t,i){if(t.search(m2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Xm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new it(Q.INVALID_ARGUMENT,p+s+v)}function g2(s,t){return s.some((i=>i.isEqual(t)))}class N0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($m("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends N0{data(){return super.data()}}function $m(s,t){return typeof t=="string"?D0(s,t):t instanceof Xm?t._internalPath:t._delegate._internalPath}function y2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class tg extends Wm{}function _2(s,t,...i){let a=[];t instanceof Wm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof ng)).length,p=c.filter((v=>v instanceof eg)).length;if(d>1||d>0&&p>0)throw new it(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class eg extends tg{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new eg(t,i,a)}_apply(t){const i=this._parse(t);return O0(t._query,i),new $r(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=R0(t.firestore);return(function(c,d,p,v,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){lE(S,A);const $=[];for(const et of S)$.push(oE(v,c,et));V={arrayValue:{values:$}}}else V=oE(v,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||lE(S,A),V=f2(p,d,S,A==="in"||A==="not-in");return Re.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends Wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ng(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const v of p)O0(d,v),d=$d(d,v)})(t._query,i),new $r(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends tg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ig(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(c,d)})(t._query,this._field,this._direction);return new $r(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new so(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function v2(s,t="asc"){const i=t,a=$m("orderBy",s);return ig._create(a,i)}class rg extends tg{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new rg(t,i,a)}_apply(t){return new $r(t.firestore,t.converter,Qc(t._query,this._limit,this._limitType))}}function E2(s){return rg._create("limit",s,"F")}function oE(s,t,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new it(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(t)&&i.indexOf("/")!==-1)throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child($t.fromString(i));if(!ct.isDocumentKey(a))throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return bv(s,new ct(a))}if(i instanceof Ie)return bv(s,i._key);throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(i)}.`)}function lE(s,t){if(!Array.isArray(s)||s.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function O0(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class T2{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return qs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new bi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=lh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=$t.fromString(t);jt(KT(a),9688,{name:t});const l=new Il(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function A2(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends N0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($m("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:we("string",Us._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Mc extends Us{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Mc(this._firestore,this._userDataWriter,a.key,a,new yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Mc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Mc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:S2(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function S2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}function sg(s){s=zs(s,Ie);const t=zs(s.firestore,_h);return n2(Km(t),s._key).then((i=>w2(t,s,i)))}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:we("string",Ga._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class V0 extends T2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function b2(s){s=zs(s,$r);const t=zs(s.firestore,_h),i=Km(t),a=new V0(t);return y2(s._query),i2(i,s._query).then((l=>new Ga(t,a,s,l)))}function M0(s,t,i){s=zs(s,Ie);const a=zs(s.firestore,_h),l=A2(s.converter,t,i);return R2(a,[h2(R0(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ji.none())])}function R2(s,t){return(function(a,l){const c=new Zi;return a.asyncQueue.enqueueAndForget((async()=>GC(await e2(a),l,c))),c.promise})(Km(s),t)}function w2(s,t,i){const a=i.docs.get(t._key),l=new V0(s);return new Us(s,l,t._key,a,new yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){no=l})(eo),Fa(new xs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new _h(new hw(a.getProvider("auth-internal")),new mw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Hr(hv,fv,t),Hr(hv,fv,"esm2020")})();const I2={apiKey:"AIzaSyBaXpWFrhMfpoXF6U0QrJCTXtv6J97oZiU",authDomain:"mygameportal-958a9.firebaseapp.com",projectId:"mygameportal-958a9",storageBucket:"mygameportal-958a9.firebasestorage.app",messagingSenderId:"606964160622",appId:"1:606964160622:web:59fb459efcddc14873ae7f"},U0=vE(I2),th=ow(U0),vh=a2(U0),C2=new Yi,D2=async()=>{try{const s=await pR(th,C2),t=Ym(vh,"users",s.user.uid);return(await sg(t)).exists()||await M0(t,{highScores:{"neon-runner":0}},{merge:!0}),s.user}catch(s){return console.error("Login Failed:",s),null}},N2=async()=>{await Zb(th)},O2=async(s,t)=>{try{return await Qb(s,{displayName:t}),!0}catch(i){return console.error("  :",i),!1}},V2=async s=>{try{const t=Ym(vh,"users",s),i=await sg(t);return i.exists()?i.data().highScores||{}:{}}catch(t){return console.error("  :",t),{}}},M2=async(s,t,i)=>{if(!s)return;const a=Ym(vh,"users",s.uid);try{const l=await sg(a);let d=(l.exists()?l.data():{}).highScores||{},p=d[t]||0;return i>p?(d[t]=i,await M0(a,{displayName:s.displayName,photoURL:s.photoURL,highScores:d},{merge:!0}),console.log("  !  :",i),!0):(console.log("   .   ."),!1)}catch(l){console.error("  :",l)}},U2=async s=>{try{const t=s2(vh,"users"),i=_2(t,v2(`highScores.${s}`,"desc"),E2(10)),a=await b2(i),l=[];return a.forEach(c=>{const d=c.data();d.highScores&&d.highScores[s]!==void 0&&l.push({uid:c.id,name:d.displayName||"Unknown",score:d.highScores[s],photo:d.photoURL})}),l}catch(t){return console.error("  :",t),[]}},Sc=s=>s>=1e3?{name:"LEGEND",color:"#ff0055"}:s>=500?{name:"DIAMOND",color:"#00f3ff"}:s>=200?{name:"GOLD",color:"#ffd700"}:s>=50?{name:"SILVER",color:"#c0c0c0"}:{name:"BRONZE",color:"#cd7f32"};function L2({user:s,onClose:t,onUpdateUser:i,showModal:a}){const[l,c]=un.useState(s.displayName||""),[d,p]=un.useState({}),[v,_]=un.useState(!0),[A,S]=un.useState(!1);un.useEffect(()=>{(async()=>{if(s?.uid){const $=await V2(s.uid);p($)}_(!1)})()},[s]);const V=async()=>{if(!l.trim())return a(" .");await O2(s,l)&&(a(" !"),i(),S(!1))};return nt.jsx("div",{className:"profile-overlay",onClick:t,children:nt.jsxs("div",{className:"profile-modal",onClick:G=>G.stopPropagation(),children:[nt.jsx("button",{className:"close-btn",onClick:t,children:""}),nt.jsx("h2",{className:"profile-title",children:"AGENT PROFILE"}),nt.jsxs("div",{className:"profile-header",children:[nt.jsx("img",{src:s.photoURL,alt:"Profile",className:"profile-pic-large"}),nt.jsxs("div",{className:"nickname-section",children:[A?nt.jsxs("div",{className:"edit-box",children:[nt.jsx("input",{type:"text",value:l,onChange:G=>c(G.target.value),className:"nickname-input",maxLength:10}),nt.jsx("button",{className:"save-btn",onClick:V,children:""})]}):nt.jsxs("div",{className:"view-box",children:[nt.jsx("h3",{className:"nickname-display",children:s.displayName}),nt.jsx("button",{className:"edit-icon",onClick:()=>S(!0),children:" "})]}),nt.jsx("p",{className:"email-display",children:s.email})]})]}),nt.jsx("hr",{className:"divider"}),nt.jsxs("div",{className:"stats-section",children:[nt.jsx("h3",{children:"BATTLE RECORDS"}),v?nt.jsx("p",{children:"Loading data..."}):nt.jsx("div",{className:"stats-grid",children:nt.jsxs("div",{className:"stat-card",children:[nt.jsx("h4",{children:"Neon Runner"}),nt.jsxs("div",{className:"score-info",children:[nt.jsx("span",{className:"label",children:"HIGH SCORE"}),nt.jsx("span",{className:"value",children:d["neon-runner"]||0})]}),nt.jsx("div",{className:"tier-badge",style:{borderColor:Sc(d["neon-runner"]||0).color,color:Sc(d["neon-runner"]||0).color,boxShadow:`0 0 10px ${Sc(d["neon-runner"]||0).color}`},children:Sc(d["neon-runner"]||0).name})]})})]})]})})}function x2({message:s,onClose:t}){return nt.jsx("div",{className:"modal-overlay",onClick:t,children:nt.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[nt.jsx("p",{children:s}),nt.jsx("button",{onClick:t,children:""})]})})}function P2(){const[s,t]=un.useState(null),[i,a]=un.useState("All"),[l,c]=un.useState(null),[d,p]=un.useState(!1),[v,_]=un.useState({show:!1,message:""}),A=()=>_({show:!1,message:""});un.useEffect(()=>{const Z=Xb(th,ot=>{c(ot)});return()=>Z()},[]),un.useEffect(()=>{const Z=async ot=>{if(ot.data.type==="GAME_OVER"){const{gameId:gt,score:ht}=ot.data;console.log(`  !  : ${ht} (: ${gt})`),l&&await M2(l,gt,ht)&&_({show:!0,message:` ! ${s.title}  : ${ht}`})}if(ot.data.type==="REQUEST_USER_INFO"&&ot.source.postMessage({type:"USER_INFO",user:l?{displayName:l.displayName,uid:l.uid}:null},"*"),ot.data.type==="REQUEST_LEADERBOARD"){console.log("   ...");const{gameId:gt}=ot.data,ht=await U2(gt);ot.source.postMessage({type:"LEADERBOARD_DATA",data:ht},"*")}};return window.addEventListener("message",Z),()=>window.removeEventListener("message",Z)},[l,s]);const S=async()=>{const Z=await D2();Z&&_({show:!0,message:`, ${Z.displayName}!`})},V=async()=>{await N2()},G=()=>{c({...th.currentUser})},$=un.useMemo(()=>["All",...new Set(Rd.flatMap(ot=>ot.tags))],[]),et=i==="All"?Rd:Rd.filter(Z=>Z.tags.includes(i));return nt.jsxs(nt.Fragment,{children:[v.show&&nt.jsx(x2,{message:v.message,onClose:A}),d&&l&&nt.jsx(L2,{user:l,onClose:()=>p(!1),onUpdateUser:G,showModal:Z=>_({show:!0,message:Z})}),nt.jsx("div",{className:"app-container",children:s?nt.jsxs("div",{className:"game-player-overlay",children:[nt.jsxs("div",{className:"player-header",children:[nt.jsx("button",{className:"back-btn",onClick:()=>t(null),children:" "}),nt.jsx("h2",{children:s.title})]}),nt.jsx("div",{className:"iframe-wrapper",children:nt.jsx("iframe",{src:s.path,title:s.title})})]}):nt.jsxs(nt.Fragment,{children:[nt.jsxs("nav",{className:"global-nav",children:[nt.jsx("div",{className:"nav-brand",children:"MY ARCADE"}),nt.jsxs("ul",{className:"nav-links",children:[nt.jsx("li",{children:nt.jsx("a",{href:"#",children:""})}),nt.jsx("li",{children:nt.jsx("a",{href:"#",children:""})})]}),nt.jsx("div",{className:"nav-auth",children:l?nt.jsxs("div",{className:"user-info",children:[nt.jsx("span",{className:"user-name",children:l.displayName}),nt.jsx("img",{src:l.photoURL,alt:"User",className:"user-profile-pic",onClick:()=>p(!0),style:{cursor:"pointer"}}),nt.jsx("button",{className:"auth-btn logout",onClick:V,children:""})]}):nt.jsx("button",{className:"auth-btn login",onClick:S,children:"Google "})})]}),nt.jsxs("header",{className:"hero-section",children:[nt.jsx("h1",{className:"main-title",children:"Game Portal"}),nt.jsx("p",{className:"sub-title",children:"Play Game, Just for Fun!"})]}),nt.jsx("nav",{className:"tag-nav",children:nt.jsx("div",{className:"tag-container",children:$.map(Z=>nt.jsx("button",{className:`tag-btn ${i===Z?"active":""}`,onClick:()=>a(Z),children:Z},Z))})}),nt.jsx("main",{className:"game-list-section",children:nt.jsx("div",{className:"game-grid",children:et.map(Z=>nt.jsxs("div",{className:"game-card",onClick:()=>{Z.path?t(Z):_({show:!0,message:"!"})},children:[nt.jsx("div",{className:"image-frame",children:nt.jsx("img",{src:Z.thumbnail,alt:Z.title})}),nt.jsxs("div",{className:"card-info",children:[nt.jsx("h3",{children:Z.title}),nt.jsx("div",{className:"card-tags",children:Z.tags.map(ot=>nt.jsxs("span",{children:["#",ot]},ot))})]})]},Z.id))})})]})})]})}ES.createRoot(document.getElementById("root")).render(nt.jsx(un.StrictMode,{children:nt.jsx(P2,{})}));
